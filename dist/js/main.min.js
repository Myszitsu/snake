"use strict";var interval,playground=document.querySelector(".playground"),snake=document.querySelector(".snake"),apple=document.querySelector(".apple"),span=document.querySelector(".span"),btn=document.querySelector(".btn"),h1=document.querySelector(".h1"),snakes=[snake],difficulty=50,direction="",lost=0,range=180,h=range,rangeFlipper=0,score=difficulty,isReady=!0,hasStarted=0,getTranslate=function(e,t){switch(t){case"x":return+e.style.transform.split("(")[1].slice(0,-1).split(",")[0].slice(0,-2);case"y":return+e.style.transform.split("(")[1].slice(0,-1).split(",")[1].slice(0,-2)}},check={direction:0,translated:!1},size={width:1200,height:660};span.textContent=score,apple.style.transform="translate(".concat(15*Math.floor(Math.random()*(size.width/15)),"px, ").concat(15*Math.floor(Math.random()*(size.height/15)),"px)"),snake.style.transform="translate(".concat(size.width/2-15,"px, ").concat(size.height/2-15,"px)");var position={x:getTranslate(snake,"x"),y:getTranslate(snake,"y")},setColor=function(e){h=range,e.style.backgroundColor="hsl(".concat(h,", 80%, 50%)"),range<360&&0===rangeFlipper?range++:360===range?(rangeFlipper=1,range--):180===--range&&(rangeFlipper=0)},app=function(){var e=document.createElement("div");e.classList.add("snake"),e.style.transform=snakes[snakes.length-1].style.transform,setColor(e),playground.append(e),snakes.push(e)},grow=function(){1===snakes.length&&(snakes[0].style.backgroundColor="hsl(".concat(h,", 80%, 50%)")),apple.style.transform="translate(".concat(15*Math.floor(Math.random()*(size.width/15)),"px, ").concat(15*Math.floor(Math.random()*(size.height/15)),"px)");for(var e=snakes.map(function(e){return e.style.transform});e.includes(apple.style.transform);)apple.style.transform="translate(".concat(15*Math.floor(Math.random()*(size.width/15)),"px, ").concat(15*Math.floor(Math.random()*(size.height/15)),"px)");app(),score--,span.style.color="hsl(".concat(h,", 80%, 50%)"),span.textContent=score},dirCheck=function(e){0===hasStarted&&(h1.classList.remove("active"),hasStarted=1),"ArrowLeft"===e.key||"ArrowUp"===e.key?(direction=-1,clearInterval(interval)):"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(direction=1,clearInterval(interval))},movementVertical=function(){if(1<snakes.length){(position.y+15*direction===getTranslate(snakes[1],"y")||check.translated&&check.direction===direction)&&(direction*=-1);for(var e=snakes.length-1;0<e;e--)snakes[e].style.transform=snakes[e-1].style.transform}position.y+=15*direction,snakes[0].style.transform="translate(".concat(position.x,"px, ").concat(position.y,"px)"),isReady=!0},movementHorizontal=function(){if(1<snakes.length){(position.x+15*direction===getTranslate(snakes[1],"x")||check.translated&&check.direction===direction)&&(direction*=-1);for(var e=snakes.length-1;0<e;e--)snakes[e].style.transform=snakes[e-1].style.transform}position.x+=15*direction,snakes[0].style.transform="translate(".concat(position.x,"px, ").concat(position.y,"px)"),isReady=!0},win=function(){clearInterval(interval),h1.classList.add("win"),size.width<=570?h1.textContent="you won":h1.textContent="collected all apples",lost=1,apple.style.display="none",btn.classList.add("active")},defeat=function(){clearInterval(interval),snakes.forEach(function(e){return e.style.backgroundColor="red"}),h1.classList.add("lost"),h1.textContent="game over",lost=1,apple.style.display="none",btn.classList.add("active")},checkPosition=function(){getTranslate(snake,"x")===size.width?(position.x=0,snakes[0].style.transform="translate(".concat(position.x,"px, ").concat(position.y,"px)"),check.translated=!0,check.direction=-direction):-15===getTranslate(snake,"x")?(position.x=playground.scrollWidth-15,snakes[0].style.transform="translate(".concat(position.x,"px, ").concat(position.y,"px)"),check.translated=!0,check.direction=-direction):getTranslate(snake,"y")===playground.clientHeight?(position.y=0,snakes[0].style.transform="translate(".concat(position.x,"px, ").concat(position.y,"px)"),check.translated=!0,check.direction=-direction):-15===getTranslate(snake,"y")?(position.y=playground.clientHeight-15,snakes[0].style.transform="translate(".concat(position.x,"px, ").concat(position.y,"px)"),check.translated=!0,check.direction=-direction):check.translated=!1},steer=function(t){dirCheck(t),interval=setInterval(function(){"ArrowLeft"===t.key||"ArrowRight"===t.key?movementHorizontal():"ArrowUp"!==t.key&&"ArrowDown"!==t.key||movementVertical(),checkPosition(),snakes[0].style.transform===apple.style.transform&&(grow(),0===score&&win());for(var e=snakes.length-1;1<e;e--)snakes[e].style.transform===snakes[0].style.transform&&defeat()},50)},resizeWidth=function(){for(size.width=0;size.width<window.innerWidth-60;)size.width+=15;size.width%10&&(size.width-=15),playground.style.width="".concat(size.width,"px")},resizeHeight=function(){for(size.height=0;size.height<window.innerHeight-75;)size.height+=15;size.height%10&&(size.height-=15),playground.style.height="".concat(size.height,"px")},resize=function(){window.innerWidth<1260?resizeWidth():(size.width=1200,playground.style.width="".concat(size.width,"px")),restart(),window.innerHeight<=720?resizeHeight():(size.height=660,playground.style.height="".concat(size.height,"px")),restart()},restart=function(){for(var e=snakes.length-1;0<e;e--)snakes[e].remove(),snakes.pop();btn.classList.remove("active"),h1.classList.remove("win"),h1.classList.remove("lost"),h1.classList.add("active"),size.width<540?h1.textContent="use 🏹":h1.textContent="navigate with arrows",direction="",h=range=180,score=difficulty,hasStarted=rangeFlipper=lost=0,span.textContent=score,span.style.color="hsl(179, 100%, 55%)",apple.style.transform="translate(".concat(15*Math.floor(Math.random()*(size.width/15)),"px, ").concat(15*Math.floor(Math.random()*(size.height/15)),"px)"),snake.style.transform="translate(".concat(size.width/2-15,"px, ").concat(size.height/2-15,"px)"),snake.style.backgroundColor="#fff",position.x=getTranslate(snake,"x"),position.y=getTranslate(snake,"y"),apple.style.display="block"};resize(),document.addEventListener("keydown",function(e){0===lost&&e.key.includes("Arrow")&&isReady&&(isReady=!1,steer(e))}),window.addEventListener("resize",resize),btn.addEventListener("click",restart);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic25ha2VzIiwicGxheWdyb3VuZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNuYWtlIiwiYXBwbGUiLCJzcGFuIiwiYnRuIiwiaDEiLCJkaWZmaWN1bHR5IiwiaW50ZXJ2YWwiLCJkaXJlY3Rpb24iLCJsb3N0IiwicmFuZ2UiLCJoIiwicmFuZ2VGbGlwcGVyIiwic2NvcmUiLCJoYXNTdGFydGVkIiwiZWwiLCJheGlzIiwiZ2V0VHJhbnNsYXRlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJzcGxpdCIsInNsaWNlIiwiY2hlY2siLCJ0cmFuc2xhdGVkIiwid2lkdGgiLCJoZWlnaHQiLCJ0ZXh0Q29udGVudCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNpemUiLCJwb3NpdGlvbiIsImNvbmNhdCIsInkiLCJ4IiwiYmFja2dyb3VuZENvbG9yIiwiYXBwIiwic25ha2VFbCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJsZW5ndGgiLCJzZXRDb2xvciIsInB1c2giLCJzbmFrZXNUcmFuc2xhdGUiLCJtYXAiLCJzIiwiaW5jbHVkZXMiLCJjb2xvciIsImRpckNoZWNrIiwiZSIsInJlbW92ZSIsImtleSIsImNsZWFySW50ZXJ2YWwiLCJtb3ZlbWVudFZlcnRpY2FsIiwiaSIsImlzUmVhZHkiLCJtb3ZlbWVudEhvcml6b250YWwiLCJkaXNwbGF5IiwiZGVmZWF0IiwiZm9yRWFjaCIsImNoZWNrUG9zaXRpb24iLCJjbGllbnRIZWlnaHQiLCJzdGVlciIsInNldEludGVydmFsIiwid2luIiwicmVzaXplV2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJyZXNpemVIZWlnaHQiLCJyZXN0YXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc2l6ZSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFNTUEsU0FOQUMsV0FBYUMsU0FBU0MsY0FBYyxlQUNwQ0MsTUFBUUYsU0FBU0MsY0FBYyxVQUQvQkYsTUFBVUMsU0FBR0EsY0FBU0MsVUFDdEJDLEtBQVFGLFNBQVNDLGNBQWMsU0FDL0JFLElBQVFILFNBQVNDLGNBQWMsUUFDL0JHLEdBQU9KLFNBQVNDLGNBQWMsT0FDOUJJLE9BQU1MLENBQUFBLE9BQ05NLFdBQWEsR0FFZkMsVUFBVSxHQUNWQyxLQUFBQSxFQUNBQyxNQUFBQSxJQUNBQyxFQUFJQyxNQUNKQSxhQUFKLEVBQ0lDLE1BQUlELFdBQ0pFLFNBQUFBLEVBQ0FDLFdBQVFQLEVBRVJRLGFBQUosU0FBQUMsRUFBQUMsR0FHQyxPQUFRQSxHQURULElBQU1DLElBQ0wsT0FBUUQsRUFBUkUsTUFBQUMsVUFBQUMsTUFBQSxLQUFBLEdBQUFDLE1BQUEsR0FBQSxHQUFBRCxNQUFBLEtBQUEsR0FBQUMsTUFBQSxHQUFBLEdBQ0MsSUFBQSxJQUNDLE9BQUFOLEVBQVFBLE1BQUdHLFVBQU1DLE1BQVVDLEtBQU0sR0FBS0MsTUFBR0EsR0FBakMsR0FBMkNELE1BQUdBLEtBQU0sR0FBS0MsTUFBR0EsR0FBNUQsS0FGVkMsTUFBQSxDQUREZCxVQUFBLEVBV0NlLFlBQVksR0FBWkEsS0FBVSxDQUZYQyxNQUFBLEtBS0FDLE9BQVUsS0FBR3RCLEtBQWJ1QixZQUFBYixNQUtBVixNQUFLdUIsTUFBQUEsVUFBTHZCLGFBQUFBLE9BQUEsR0FBQXdCLEtBQUFDLE1BQUFELEtBQUFFLFVBQUFDLEtBQUFOLE1BQUEsS0FBQXJCLFFBQUFBLE9BQzBDeUIsR0FBMUMxQixLQUFNZ0IsTUFBTUMsS0FBQUEsVUFBWlcsS0FBQUwsT0FBQSxLQURBdEIsT0FNQUYsTUFBTThCLE1BQVFaLFVBQWQsYUFBQWEsT0FBaUJGLEtBQUFOLE1BQUEsRUFBQSxHQUFqQixRQUFBUSxPQUFpQkYsS0FBQUwsT0FBQSxFQUFBLEdBQWpCLE9BRUNRLElBQUdoQixTQUFZLENBRmhCaUIsRUFBQWpCLGFBQUFoQixNQUFBLEtBRUNnQyxFQUFHaEIsYUFBYWhCLE1BQU8sTUFLcEJpQixTQUFNaUIsU0FBQUEsR0FEVHhCLEVBQUlELE1BRUpLLEVBQUFHLE1BQUlSLGdCQUFKLE9BQUFzQixPQUErQnJCLEVBQS9CLGVBQ0NELE1BQUssS0FBQSxJQUFBRSxhQUNMRixRQUNBLE1BQUFFLE9BQ0FGLGFBQUssRUFDTEEsU0FFUyxRQURUQSxRQUVDRSxhQUFZLElBS1R3QixJQUFNLFdBQ1gsSUFBTUMsRUFBVXRDLFNBQVN1QyxjQUFjLE9BQ3ZDRCxFQUFPRSxVQUFQQyxJQUFBLFNBQ0FILEVBQU9uQixNQUFQQyxVQUFBdEIsT0FBZ0NBLE9BQU80QyxPQUFOLEdBQVB2QixNQUFBQyxVQUMxQnVCLFNBQVFMLEdBR1J4QyxXQUFPOEMsT0FBS04sR0FQYnhDLE9BQUE4QyxLQUFBTixJQVdLeEMsS0FBTzRDLFdBQ01OLElBQWhCdEMsT0FBTTRDLFNBQ041QyxPQUFBLEdBQUFxQixNQUFBaUIsZ0JBQUEsT0FBQUgsT0FBQXJCLEVBQUEsZ0JBQ0RULE1BQUtnQixNQUFMQyxVQUFBakIsYUFBQUEsT0FBaUUsR0FBakV5QixLQUFBQyxNQUFxQ0QsS0FBS0MsVUFBV0MsS0FBTEwsTUFBc0JBLEtBQXRFdEIsUUFBQUEsT0FHb0MsR0FBcEN5QixLQUFNaUIsTUFBQUEsS0FBQUEsVUFBd0JkLEtBQUtMLE9BQUEsS0FIbkN2QixPQUlBLElBRG9DLElBQXBDMEMsRUFBQS9DLE9BQUFnRCxJQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQTVCLE1BQUFDLFlBQ095QixFQUFnQkcsU0FBUzdDLE1BQU1nQixNQUFNQyxZQUE1Q2pCLE1BQUFnQixNQUFPMEIsVUFBUCxhQUFBWixPQUF3RCxHQUFuQkwsS0FBQ1QsTUFBTUMsS0FBckNVLFVBQWlEQyxLQUFBTixNQUFBLEtBQXhELFFBQUFRLE9BQzBDLEdBQXpDOUIsS0FBQUEsTUFBTWdCLEtBQU1DLFVBQVpXLEtBQUFMLE9BQUEsS0FERCxPQUtBVyxNQUNBdkIsUUFDQVYsS0FBSWUsTUFBSjhCLE1BQUE3QyxPQUFBQSxPQUFBUSxFQUFBUixlQUNBQSxLQUFJdUIsWUFBSmIsT0FHS29DLFNBQVcsU0FBQUMsR0FDRixJQUFkcEMsYUFDQ1QsR0FBQUEsVUFBR2tDLE9BQVVZLFVBQ2JyQyxXQUFVLEdBRUcsY0FBVm9DLEVBQUVFLEtBQWlDLFlBQVZGLEVBQUVFLEtBQS9CNUMsV0FBSSxFQUNIQSxjQUFZRCxXQUNFQSxlQUFkOEMsRUFBQUEsS0FBQSxjQUFBSCxFQUFBRSxNQUNBNUMsVUFBVyxFQUNYQSxjQUFZRCxZQUtSK0MsaUJBQW1CLFdBQXpCLEdBQXNCLEVBQWhCQSxPQUFBQSxPQUFtQixFQUV2QnZCLFNBQ0NBLEVBQVEsR0FBS3ZCLFlBQWJTLGFBQWdDQSxPQUFhcEIsR0FBTSxNQUduRFcsTUFBQUEsWUFBQWMsTUFBQWQsWUFBQUEsYUFBQUEsWUFBYyxHQUdkWCxJQUFBQSxJQUFBQSxFQUFBQSxPQUFnQnNCLE9BQWhCLEVBQTRCdEIsRUFBQUEsRUFBTzBELElBQ25DMUQsT0FBQTBELEdBQUFyQyxNQUFBQyxVQUFBdEIsT0FBQTBELEVBQUEsR0FBQXJDLE1BQUFDLFVBRUZZLFNBQVFFLEdBQVIsR0FBY3pCLFVBQ2RYLE9BQU0sR0FBTnFCLE1BQUFDLFVBQUF0QixhQUFBQSxPQUFBa0MsU0FBeUNBLEVBQXpDbEMsUUFBQUEsT0FBa0RxQyxTQUFsREQsRUFBQXBDLE9BYkQyRCxTQUFBLEdBaUJNQyxtQkFBcUIsV0FDMUIsR0FBSSxFQUFKNUQsT0FBVTRDLE9BQVYsRUFLRWpDLFNBQUFBLEVBQVMsR0FBVEEsWUFBQVMsYUFBQXBCLE9BQUEsR0FBQSxNQUNBeUIsTUFBQUMsWUFBQUQsTUFBQWQsWUFBQUEsYUFDREEsWUFBYVgsR0FFWixJQUFBLElBQUEwRCxFQUFBMUQsT0FBQTRDLE9BQUEsRUFBQSxFQUFBYyxFQUFBQSxJQUNEMUQsT0FBQTBELEdBQUFyQyxNQUFBQyxVQUFBdEIsT0FBQTBELEVBQUEsR0FBQXJDLE1BQUFDLFVBRUR0QixTQUFNcUMsR0FBSWhCLEdBQU1DLFVBRWhCcUMsT0FBQUEsR0FBT3RDLE1BQVBDLFVBQUFxQyxhQUFBQSxPQUFBekIsU0FBQUcsRUFBQXNCLFFBQUFBLE9BQUF6QixTQUFBRSxFQUFBdUIsT0FBQUEsU0FBVSxHQUtQakIsSUFBQUEsV0FESGMsY0FBYzlDLFVBRWRGLEdBQUFrQyxVQUFTZixJQUFMLE9BQ0huQixLQUFHcUIsT0FBSCxJQUNBckIsR0FGRHFCLFlBRU8sVUFFTnJCLEdBQUFxQixZQUFBLHVCQUNEakIsS0FBSSxFQUNKUCxNQUFLZ0IsTUFBTHdDLFFBQUEsT0FDQXRELElBQUdtQyxVQUFIQyxJQUFBLFdBR0ttQixPQUFTLFdBQ2ROLGNBQWE5QyxVQUNiVixPQUFNK0QsUUFBTixTQUFBZCxHQUFlLE9BQUFBLEVBQUE1QixNQUFDaUIsZ0JBQUEsUUFBQTlCLEdBQUFrQyxVQUFPckIsSUFBRixRQUFMYixHQUFoQnFCLFlBQUEsWUFDQXJCLEtBQUdrQyxFQUNIbEMsTUFBR3FCLE1BQUFBLFFBQWMsT0FDakJqQixJQUFBQSxVQUFBK0IsSUFBQSxXQUxEcUIsY0FBQSxXQVdLNUMsYUFBYWhCLE1BQU8sT0FBUzZCLEtBQUtOLE9BRHZDTyxTQUFNOEIsRUFBQUEsRUFDTGhFLE9BQUlvQixHQUFBQSxNQUFZRSxVQUFoQixhQUFBYSxPQUFzQ1IsU0FBT1UsRUFBN0MsUUFBQUYsT0FBNkNELFNBQUFFLEVBQTdDLE9BQ0NGLE1BQUFBLFlBQUEsRUFDQWxDLE1BQUFBLFdBQWdCc0IsWUFDaEIsS0FBTUksYUFBYXRCLE1BQW5CLE1BQ0FxQixTQUFNZCxFQUFBQSxXQUFhQSxZQUFuQixHQUNBWCxPQUFNLEdBQUFxQixNQUFJRCxVQUFWLGFBQUFlLE9BQXdDRCxTQUFJRyxFQUE1QyxRQUFBRixPQUE0Q0QsU0FBQUUsRUFBNUMsT0FDQUYsTUFBQUEsWUFBYWpDLEVBQ2JELE1BQUFBLFdBQWdCc0IsV0FDVkksYUFBYXRCLE1BQW5CLE9BQUFILFdBQUFnRSxjQUNBeEMsU0FBTWQsRUFBQUEsRUFDTlgsT0FBTSxHQUFBcUIsTUFBSUQsVUFBVixhQUFBZSxPQUF1Q2xDLFNBQVVvQyxFQUFqRCxRQUFBRixPQUFrRDhCLFNBQWM3QixFQUFoRSxPQUNBRixNQUFBQSxZQUFBLEVBQ0FsQyxNQUFBQSxXQUFnQnNCLFlBQ2hCLEtBQU1JLGFBQWF0QixNQUFuQixNQUNBcUIsU0FBTWQsRUFBQUEsV0FBYUEsYUFBbkIsR0FDQVgsT0FBTSxHQUFBcUIsTUFBSUQsVUFBVixhQUFBZSxPQUF3Q0QsU0FBSUcsRUFBNUMsUUFBQUYsT0FBNENELFNBQUFFLEVBQTVDLE9BQ0FGLE1BQUFBLFlBQWFqQyxFQUNiRCxNQUFBQSxXQUFnQnNCLFdBRWhCRyxNQUFBQSxZQUFBLEdBcEJGeUMsTUFBQSxTQUFBYixHQTJCQ0QsU0FBU0MsR0FEVjNDLFNBQWN5RCxZQUFSRCxXQUNMLGNBQUFkLEVBQUFBLEtBQUEsZUFBQUMsRUFBQUUsSUFDQTdDLHFCQUNlLFlBQVYyQyxFQUFBRSxLQUFtQyxjQUFSQSxFQUFGQSxLQUM1QkssbUJBRUFILGdCQUlHekQsT0FBTyxHQUFHcUIsTUFBTUMsWUFBY2pCLE1BQU1nQixNQUFNQyxZQUY5QzBDLE9BSWUsSUFBVmhELE9BRkxvRCxPQUdFQSxJQUFBQSxJQUFHVixFQUFBMUQsT0FBQTRDLE9BQUEsRUFBQSxFQUFBYyxFQUFBQSxJQUNIMUQsT0FBQTBELEdBQUFyQyxNQUFBQyxZQUFBdEIsT0FBQSxHQUFBcUIsTUFBQUMsV0FDRHdDLFVBR0EsS0FHQU8sWUFBQSxXQXJCSCxJQXNCRXBDLEtBQUVOLE1BcEJILEVBRkRNLEtBQUFOLE1BQUEyQyxPQUFBQyxXQUFBLElBNEJFdEMsS0FBS04sT0FBUyxHQUZmTSxLQUFLTixNQUFMLEtBS0NNLEtBQUtOLE9BQVMsSUFGZDFCLFdBQUFvQixNQUFBTSxNQUFBLEdBQUFRLE9BQUFGLEtBQUFOLE1BQUEsT0FFQU0sYUFBQSxXQVFELElBUENBLEtBQUFMLE9BQUEsRUFPTUssS0FBS0wsT0FBUzBDLE9BQU9FLFlBQWMsSUFMMUN2RSxLQUFBQSxRQUFXb0IsR0FHTm9ELEtBQUFBLE9BQWUsS0FDcEJ4QyxLQUFLTCxRQUFMLElBRUNLLFdBQUtMLE1BQUxBLE9BQUFLLEdBQUFBLE9BQUFBLEtBQUFMLE9BQUFLLE9BR0dBLE9BQUtMLFdBQ1JLLE9BQUtMLFdBQUwsS0FDQXlDLGVBUkZwQyxLQUFBTixNQUFBLEtBbUJFMUIsV0FBV29CLE1BQU1NLE1BQWpCLEdBQUFRLE9BQTRCRixLQUFLTixNQUFqQyxPQUhBK0MsVUFEQUwsT0FBQUEsYUFBVyxJQUNYSyxnQkFHQXpFLEtBQUFBLE9BQVdvQixJQUNYcUQsV0FBT3JELE1BQUFPLE9BQVA4QyxHQUFBQSxPQUFPekMsS0FBQUwsT0FBUDhDLE9BSEFBLFdBT0FBLFFBQU8sV0FDUCxJQUhELElBR09oQixFQUFBMUQsT0FBQTRDLE9BQUEsRUFBQSxFQUFBYyxFQUFBQSxJQUNOekIsT0FBS0wsR0FBQUEsU0FDTDNCLE9BQUFBLE1BRUFNLElBQUFtQyxVQUFBWSxPQUFBLFVBaEJGOUMsR0FBQWtDLFVBQUFZLE9BQUEsT0EwQkM5QyxHQUFHa0MsVUFBVVksT0FBTyxRQVByQjlDLEdBQU1rRSxVQUFVL0IsSUFBQSxVQUNmVixLQUFLTixNQUFRM0IsSUFDWkEsR0FBQUEsWUFBVXNELFNBRVY5QyxHQUFBcUIsWUFBQSx1QkFDRHRCLFVBQUltQyxHQUdKbEMsRUFEQUEsTUFBR2tDLElBRUgxQixNQUFJaUIsV0FDSHpCLFdBUURPLGFBWkFQLEtBQUdrQyxFQUtGcEMsS0FGRHVCLFlBRU9iLE1BQ05SLEtBQUVhLE1BQUNRLE1BQUgsc0JBQ0F4QixNQUFBZ0IsTUFBQUMsVUFBQSxhQUFBYSxPQUFBLEdBQUFMLEtBQUFDLE1BQUFELEtBQUFFLFVBQUFDLEtBQUFOLE1BQUEsS0FBQSxRQUFBUSxPQVdpRCxHQUFqREwsS0FBS0MsTUFBTUQsS0FBS0UsVUFBWUMsS0FBS0wsT0FBUyxLQVgxQyxPQUVEaEIsTUFBSVMsTUFBSkMsVUFBQVYsYUFBQUEsT0FBQXFCLEtBQUFOLE1BQUEsRUFBQSxHQUFBZixRQUFBQSxPQUFBcUIsS0FBQUwsT0FBQSxFQUFBLEdBQUFoQixPQUNBQyxNQUFLUSxNQUFMaUIsZ0JBQUEsT0FDQXhCLFNBQUlELEVBQUpPLGFBQUFoQixNQUFBLEtBQ0FXLFNBQUFBLEVBQVlLLGFBQVpoQixNQUFBLEtBQ0FZLE1BQUtLLE1BQUdaLFFBQVIsU0FFQUgsU0FFQUQsU0FBTWdCLGlCQUFOLFVBQUEsU0FBQWdDLEdBR1kvQixJQUFabEIsTUFBWWtCLEVBQUFBLElBQVo0QixTQUFBLFVBQXFDakIsVUFDckM3QixTQUFNaUIsRUFDTmEsTUFBQUEsTUFhRG9DLE9BQU9LLGlCQUFpQixTQUFVQyxRQVBsQzFFLElBQUFBLGlCQUFTeUUsUUFBaUJEIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGxheWdyb3VuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5Z3JvdW5kJylcclxuY29uc3Qgc25ha2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc25ha2UnKVxyXG5jb25zdCBhcHBsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBsZScpXHJcbmNvbnN0IHNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3BhbicpXHJcbmNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4nKVxyXG5jb25zdCBoMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oMScpXHJcbmNvbnN0IHNuYWtlcyA9IFtzbmFrZV1cclxubGV0IGRpZmZpY3VsdHkgPSA1MFxyXG5sZXQgaW50ZXJ2YWxcclxubGV0IGRpcmVjdGlvbiA9ICcnXHJcbmxldCBsb3N0ID0gMFxyXG5sZXQgcmFuZ2UgPSAxODBcclxubGV0IGggPSByYW5nZVxyXG5sZXQgcmFuZ2VGbGlwcGVyID0gMFxyXG5sZXQgc2NvcmUgPSBkaWZmaWN1bHR5XHJcbmxldCBpc1JlYWR5ID0gdHJ1ZVxyXG5sZXQgaGFzU3RhcnRlZCA9IDBcclxuXHJcbmNvbnN0IGdldFRyYW5zbGF0ZSA9IChlbCwgYXhpcykgPT4ge1xyXG5cdHN3aXRjaCAoYXhpcykge1xyXG5cdFx0Y2FzZSAneCc6XHJcblx0XHRcdHJldHVybiArZWwuc3R5bGUudHJhbnNmb3JtLnNwbGl0KCcoJylbMV0uc2xpY2UoMCwgLTEpLnNwbGl0KCcsJylbMF0uc2xpY2UoMCwgLTIpXHJcblx0XHRjYXNlICd5JzpcclxuXHRcdFx0cmV0dXJuICtlbC5zdHlsZS50cmFuc2Zvcm0uc3BsaXQoJygnKVsxXS5zbGljZSgwLCAtMSkuc3BsaXQoJywnKVsxXS5zbGljZSgwLCAtMilcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrID0ge1xyXG5cdGRpcmVjdGlvbjogMCxcclxuXHR0cmFuc2xhdGVkOiBmYWxzZSxcclxufVxyXG5cclxuY29uc3Qgc2l6ZSA9IHtcclxuXHR3aWR0aDogMTIwMCxcclxuXHRoZWlnaHQ6IDY2MCxcclxufVxyXG5cclxuc3Bhbi50ZXh0Q29udGVudCA9IHNjb3JlXHJcbmFwcGxlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS53aWR0aCAvIDE1KSkgKiAxNX1weCwgJHtcclxuXHRNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS5oZWlnaHQgLyAxNSkpICogMTVcclxufXB4KWBcclxuc25ha2Uuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3NpemUud2lkdGggLyAyIC0gMTV9cHgsICR7c2l6ZS5oZWlnaHQgLyAyIC0gMTV9cHgpYFxyXG5cclxuY29uc3QgcG9zaXRpb24gPSB7XHJcblx0eDogZ2V0VHJhbnNsYXRlKHNuYWtlLCAneCcpLFxyXG5cdHk6IGdldFRyYW5zbGF0ZShzbmFrZSwgJ3knKSxcclxufVxyXG5cclxuY29uc3Qgc2V0Q29sb3IgPSBlbCA9PiB7XHJcblx0aCA9IHJhbmdlXHJcblx0ZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYGhzbCgke2h9LCA4MCUsIDUwJSlgXHJcblx0aWYgKHJhbmdlIDwgMzYwICYmIHJhbmdlRmxpcHBlciA9PT0gMCkge1xyXG5cdFx0cmFuZ2UrK1xyXG5cdH0gZWxzZSBpZiAocmFuZ2UgPT09IDM2MCkge1xyXG5cdFx0cmFuZ2VGbGlwcGVyID0gMVxyXG5cdFx0cmFuZ2UtLVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyYW5nZS0tXHJcblx0XHRpZiAocmFuZ2UgPT09IDE4MCkge1xyXG5cdFx0XHRyYW5nZUZsaXBwZXIgPSAwXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBhcHAgPSAoKSA9PiB7XHJcblx0Y29uc3Qgc25ha2VFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0c25ha2VFbC5jbGFzc0xpc3QuYWRkKCdzbmFrZScpXHJcblx0c25ha2VFbC5zdHlsZS50cmFuc2Zvcm0gPSBzbmFrZXNbc25ha2VzLmxlbmd0aCAtIDFdLnN0eWxlLnRyYW5zZm9ybVxyXG5cdHNldENvbG9yKHNuYWtlRWwpXHJcblxyXG5cdHBsYXlncm91bmQuYXBwZW5kKHNuYWtlRWwpXHJcblx0c25ha2VzLnB1c2goc25ha2VFbClcclxufVxyXG5cclxuY29uc3QgZ3JvdyA9ICgpID0+IHtcclxuXHRpZiAoc25ha2VzLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0c25ha2VzWzBdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGBoc2woJHtofSwgODAlLCA1MCUpYFxyXG5cdH1cclxuXHRhcHBsZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHNpemUud2lkdGggLyAxNSkpICogMTV9cHgsICR7XHJcblx0XHRNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS5oZWlnaHQgLyAxNSkpICogMTVcclxuXHR9cHgpYFxyXG5cdGNvbnN0IHNuYWtlc1RyYW5zbGF0ZSA9IHNuYWtlcy5tYXAocyA9PiBzLnN0eWxlLnRyYW5zZm9ybSlcclxuXHR3aGlsZSAoc25ha2VzVHJhbnNsYXRlLmluY2x1ZGVzKGFwcGxlLnN0eWxlLnRyYW5zZm9ybSkpIHtcclxuXHRcdGFwcGxlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS53aWR0aCAvIDE1KSkgKiAxNX1weCwgJHtcclxuXHRcdFx0TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHNpemUuaGVpZ2h0IC8gMTUpKSAqIDE1XHJcblx0XHR9cHgpYFxyXG5cdH1cclxuXHRhcHAoKVxyXG5cdHNjb3JlLS1cclxuXHRzcGFuLnN0eWxlLmNvbG9yID0gYGhzbCgke2h9LCA4MCUsIDUwJSlgXHJcblx0c3Bhbi50ZXh0Q29udGVudCA9IHNjb3JlXHJcbn1cclxuXHJcbmNvbnN0IGRpckNoZWNrID0gZSA9PiB7XHJcblx0aWYgKGhhc1N0YXJ0ZWQgPT09IDApIHtcclxuXHRcdGgxLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRoYXNTdGFydGVkID0gMVxyXG5cdH1cclxuXHRpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnIHx8IGUua2V5ID09PSAnQXJyb3dVcCcpIHtcclxuXHRcdGRpcmVjdGlvbiA9IC0xXHJcblx0XHRjbGVhckludGVydmFsKGludGVydmFsKVxyXG5cdH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd1JpZ2h0JyB8fCBlLmtleSA9PT0gJ0Fycm93RG93bicpIHtcclxuXHRcdGRpcmVjdGlvbiA9IDFcclxuXHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBtb3ZlbWVudFZlcnRpY2FsID0gKCkgPT4ge1xyXG5cdGlmIChzbmFrZXMubGVuZ3RoID4gMSkge1xyXG5cdFx0aWYgKFxyXG5cdFx0XHRwb3NpdGlvbi55ICsgMTUgKiBkaXJlY3Rpb24gPT09IGdldFRyYW5zbGF0ZShzbmFrZXNbMV0sICd5JykgfHxcclxuXHRcdFx0KGNoZWNrLnRyYW5zbGF0ZWQgJiYgY2hlY2suZGlyZWN0aW9uID09PSBkaXJlY3Rpb24pXHJcblx0XHQpIHtcclxuXHRcdFx0ZGlyZWN0aW9uICo9IC0xXHJcblx0XHR9XHJcblx0XHRmb3IgKGxldCBpID0gc25ha2VzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuXHRcdFx0c25ha2VzW2ldLnN0eWxlLnRyYW5zZm9ybSA9IHNuYWtlc1tpIC0gMV0uc3R5bGUudHJhbnNmb3JtXHJcblx0XHR9XHJcblx0fVxyXG5cdHBvc2l0aW9uLnkgKz0gMTUgKiBkaXJlY3Rpb25cclxuXHRzbmFrZXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3Bvc2l0aW9uLnh9cHgsICR7cG9zaXRpb24ueX1weClgXHJcblxyXG5cdGlzUmVhZHkgPSB0cnVlXHJcbn1cclxuY29uc3QgbW92ZW1lbnRIb3Jpem9udGFsID0gKCkgPT4ge1xyXG5cdGlmIChzbmFrZXMubGVuZ3RoID4gMSkge1xyXG5cdFx0aWYgKFxyXG5cdFx0XHRwb3NpdGlvbi54ICsgMTUgKiBkaXJlY3Rpb24gPT09IGdldFRyYW5zbGF0ZShzbmFrZXNbMV0sICd4JykgfHxcclxuXHRcdFx0KGNoZWNrLnRyYW5zbGF0ZWQgJiYgY2hlY2suZGlyZWN0aW9uID09PSBkaXJlY3Rpb24pXHJcblx0XHQpIHtcclxuXHRcdFx0ZGlyZWN0aW9uICo9IC0xXHJcblx0XHR9XHJcblx0XHRmb3IgKGxldCBpID0gc25ha2VzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuXHRcdFx0c25ha2VzW2ldLnN0eWxlLnRyYW5zZm9ybSA9IHNuYWtlc1tpIC0gMV0uc3R5bGUudHJhbnNmb3JtXHJcblx0XHR9XHJcblx0fVxyXG5cdHBvc2l0aW9uLnggKz0gMTUgKiBkaXJlY3Rpb25cclxuXHRzbmFrZXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3Bvc2l0aW9uLnh9cHgsICR7cG9zaXRpb24ueX1weClgXHJcblxyXG5cdGlzUmVhZHkgPSB0cnVlXHJcbn1cclxuXHJcbmNvbnN0IHdpbiA9ICgpID0+IHtcclxuXHRjbGVhckludGVydmFsKGludGVydmFsKVxyXG5cdGgxLmNsYXNzTGlzdC5hZGQoJ3dpbicpXHJcblx0aWYgKHNpemUud2lkdGggPD0gNTcwKSB7XHJcblx0XHRoMS50ZXh0Q29udGVudCA9ICd5b3Ugd29uJ1xyXG5cdH0gZWxzZSB7XHJcblx0XHRoMS50ZXh0Q29udGVudCA9ICdjb2xsZWN0ZWQgYWxsIGFwcGxlcydcclxuXHR9XHJcblx0bG9zdCA9IDFcclxuXHRhcHBsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0YnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbn1cclxuXHJcbmNvbnN0IGRlZmVhdCA9ICgpID0+IHtcclxuXHRjbGVhckludGVydmFsKGludGVydmFsKVxyXG5cdHNuYWtlcy5mb3JFYWNoKHMgPT4gKHMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCcpKVxyXG5cdGgxLmNsYXNzTGlzdC5hZGQoJ2xvc3QnKVxyXG5cdGgxLnRleHRDb250ZW50ID0gJ2dhbWUgb3ZlcidcclxuXHRsb3N0ID0gMVxyXG5cdGFwcGxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHRidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxufVxyXG5cclxuY29uc3QgY2hlY2tQb3NpdGlvbiA9ICgpID0+IHtcclxuXHRpZiAoZ2V0VHJhbnNsYXRlKHNuYWtlLCAneCcpID09PSBzaXplLndpZHRoKSB7XHJcblx0XHRwb3NpdGlvbi54ID0gMFxyXG5cdFx0c25ha2VzWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwb3NpdGlvbi54fXB4LCAke3Bvc2l0aW9uLnl9cHgpYFxyXG5cdFx0Y2hlY2sudHJhbnNsYXRlZCA9IHRydWVcclxuXHRcdGNoZWNrLmRpcmVjdGlvbiA9IC1kaXJlY3Rpb25cclxuXHR9IGVsc2UgaWYgKGdldFRyYW5zbGF0ZShzbmFrZSwgJ3gnKSA9PT0gLTE1KSB7XHJcblx0XHRwb3NpdGlvbi54ID0gcGxheWdyb3VuZC5zY3JvbGxXaWR0aCAtIDE1XHJcblx0XHRzbmFrZXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3Bvc2l0aW9uLnh9cHgsICR7cG9zaXRpb24ueX1weClgXHJcblx0XHRjaGVjay50cmFuc2xhdGVkID0gdHJ1ZVxyXG5cdFx0Y2hlY2suZGlyZWN0aW9uID0gLWRpcmVjdGlvblxyXG5cdH0gZWxzZSBpZiAoZ2V0VHJhbnNsYXRlKHNuYWtlLCAneScpID09PSBwbGF5Z3JvdW5kLmNsaWVudEhlaWdodCkge1xyXG5cdFx0cG9zaXRpb24ueSA9IDBcclxuXHRcdHNuYWtlc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cG9zaXRpb24ueH1weCwgJHtwb3NpdGlvbi55fXB4KWBcclxuXHRcdGNoZWNrLnRyYW5zbGF0ZWQgPSB0cnVlXHJcblx0XHRjaGVjay5kaXJlY3Rpb24gPSAtZGlyZWN0aW9uXHJcblx0fSBlbHNlIGlmIChnZXRUcmFuc2xhdGUoc25ha2UsICd5JykgPT09IC0xNSkge1xyXG5cdFx0cG9zaXRpb24ueSA9IHBsYXlncm91bmQuY2xpZW50SGVpZ2h0IC0gMTVcclxuXHRcdHNuYWtlc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cG9zaXRpb24ueH1weCwgJHtwb3NpdGlvbi55fXB4KWBcclxuXHRcdGNoZWNrLnRyYW5zbGF0ZWQgPSB0cnVlXHJcblx0XHRjaGVjay5kaXJlY3Rpb24gPSAtZGlyZWN0aW9uXHJcblx0fSBlbHNlIHtcclxuXHRcdGNoZWNrLnRyYW5zbGF0ZWQgPSBmYWxzZVxyXG5cdH1cclxufVxyXG5cclxuY29uc3Qgc3RlZXIgPSBlID0+IHtcclxuXHRkaXJDaGVjayhlKVxyXG5cdGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0aWYgKGUua2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XHJcblx0XHRcdG1vdmVtZW50SG9yaXpvbnRhbCgpXHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09PSAnQXJyb3dVcCcgfHwgZS5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XHJcblx0XHRcdG1vdmVtZW50VmVydGljYWwoKVxyXG5cdFx0fVxyXG5cdFx0Y2hlY2tQb3NpdGlvbigpXHJcblxyXG5cdFx0aWYgKHNuYWtlc1swXS5zdHlsZS50cmFuc2Zvcm0gPT09IGFwcGxlLnN0eWxlLnRyYW5zZm9ybSkge1xyXG5cdFx0XHRncm93KClcclxuXHRcdFx0aWYgKHNjb3JlID09PSAwKSB7XHJcblx0XHRcdFx0d2luKClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAobGV0IGkgPSBzbmFrZXMubGVuZ3RoIC0gMTsgaSA+IDE7IGktLSkge1xyXG5cdFx0XHRpZiAoc25ha2VzW2ldLnN0eWxlLnRyYW5zZm9ybSA9PT0gc25ha2VzWzBdLnN0eWxlLnRyYW5zZm9ybSkge1xyXG5cdFx0XHRcdGRlZmVhdCgpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LCA1MClcclxufVxyXG5cclxuY29uc3QgcmVzaXplV2lkdGggPSAoKSA9PiB7XHJcblx0c2l6ZS53aWR0aCA9IDBcclxuXHR3aGlsZSAoc2l6ZS53aWR0aCA8IHdpbmRvdy5pbm5lcldpZHRoIC0gNjApIHtcclxuXHRcdHNpemUud2lkdGggKz0gMTVcclxuXHR9XHJcblx0aWYgKHNpemUud2lkdGggJSAxMCkge1xyXG5cdFx0c2l6ZS53aWR0aCAtPSAxNVxyXG5cdH1cclxuXHJcblx0cGxheWdyb3VuZC5zdHlsZS53aWR0aCA9IGAke3NpemUud2lkdGh9cHhgXHJcbn1cclxuXHJcbmNvbnN0IHJlc2l6ZUhlaWdodCA9ICgpID0+IHtcclxuXHRzaXplLmhlaWdodCA9IDBcclxuXHR3aGlsZSAoc2l6ZS5oZWlnaHQgPCB3aW5kb3cuaW5uZXJIZWlnaHQgLSA3NSkge1xyXG5cdFx0c2l6ZS5oZWlnaHQgKz0gMTVcclxuXHR9XHJcblxyXG5cdGlmIChzaXplLmhlaWdodCAlIDEwKSB7XHJcblx0XHRzaXplLmhlaWdodCAtPSAxNVxyXG5cdH1cclxuXHJcblx0cGxheWdyb3VuZC5zdHlsZS5oZWlnaHQgPSBgJHtzaXplLmhlaWdodH1weGBcclxufVxyXG5cclxuY29uc3QgcmVzaXplID0gKCkgPT4ge1xyXG5cdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEyNjApIHtcclxuXHRcdHJlc2l6ZVdpZHRoKClcclxuXHRcdHJlc3RhcnQoKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzaXplLndpZHRoID0gMTIwMFxyXG5cdFx0cGxheWdyb3VuZC5zdHlsZS53aWR0aCA9IGAke3NpemUud2lkdGh9cHhgXHJcblx0XHRyZXN0YXJ0KClcclxuXHR9XHJcblx0aWYgKHdpbmRvdy5pbm5lckhlaWdodCA8PSA3MjApIHtcclxuXHRcdHJlc2l6ZUhlaWdodCgpXHJcblx0XHRyZXN0YXJ0KClcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2l6ZS5oZWlnaHQgPSA2NjBcclxuXHRcdHBsYXlncm91bmQuc3R5bGUuaGVpZ2h0ID0gYCR7c2l6ZS5oZWlnaHR9cHhgXHJcblx0XHRyZXN0YXJ0KClcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHJlc3RhcnQgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IHNuYWtlcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XHJcblx0XHRzbmFrZXNbaV0ucmVtb3ZlKClcclxuXHRcdHNuYWtlcy5wb3AoKVxyXG5cdH1cclxuXHRidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRoMS5jbGFzc0xpc3QucmVtb3ZlKCd3aW4nKVxyXG5cdGgxLmNsYXNzTGlzdC5yZW1vdmUoJ2xvc3QnKVxyXG5cdGgxLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0aWYgKHNpemUud2lkdGggPCA1NDApIHtcclxuXHRcdGgxLnRleHRDb250ZW50ID0gJ3VzZSDwn4+5J1xyXG5cdH0gZWxzZSB7XHJcblx0XHRoMS50ZXh0Q29udGVudCA9ICduYXZpZ2F0ZSB3aXRoIGFycm93cydcclxuXHR9XHJcblx0ZGlyZWN0aW9uID0gJydcclxuXHRsb3N0ID0gMFxyXG5cdHJhbmdlID0gMTgwXHJcblx0aCA9IHJhbmdlXHJcblx0cmFuZ2VGbGlwcGVyID0gMFxyXG5cdHNjb3JlID0gZGlmZmljdWx0eVxyXG5cdGhhc1N0YXJ0ZWQgPSAwXHJcblx0c3Bhbi50ZXh0Q29udGVudCA9IHNjb3JlXHJcblx0c3Bhbi5zdHlsZS5jb2xvciA9ICdoc2woMTc5LCAxMDAlLCA1NSUpJ1xyXG5cdGFwcGxlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS53aWR0aCAvIDE1KSkgKiAxNX1weCwgJHtcclxuXHRcdE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChzaXplLmhlaWdodCAvIDE1KSkgKiAxNVxyXG5cdH1weClgXHJcblx0c25ha2Uuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3NpemUud2lkdGggLyAyIC0gMTV9cHgsICR7c2l6ZS5oZWlnaHQgLyAyIC0gMTV9cHgpYFxyXG5cdHNuYWtlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZmZmJ1xyXG5cdHBvc2l0aW9uLnggPSBnZXRUcmFuc2xhdGUoc25ha2UsICd4JylcclxuXHRwb3NpdGlvbi55ID0gZ2V0VHJhbnNsYXRlKHNuYWtlLCAneScpXHJcblx0YXBwbGUuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxufVxyXG5yZXNpemUoKVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xyXG5cdGlmIChsb3N0ID09PSAwICYmIGUua2V5LmluY2x1ZGVzKCdBcnJvdycpICYmIGlzUmVhZHkpIHtcclxuXHRcdGlzUmVhZHkgPSBmYWxzZVxyXG5cdFx0c3RlZXIoZSlcclxuXHR9XHJcbn0pXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKVxyXG5cclxuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVzdGFydClcclxuIl19
