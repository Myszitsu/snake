"use strict";var interval,playground=document.querySelector(".playground"),snake=document.querySelector(".snake"),apple=document.querySelector(".apple"),span=document.querySelector(".span"),btn=document.querySelector(".btn"),h1=document.querySelector(".h1"),snakes=[snake],difficulty=50,direction="",lost=0,range=180,h=range,rangeFlipper=0,score=difficulty,isReady=!0,hasStarted=0,check={direction:0,translated:!1},size={width:1200,height:660};span.textContent=score,apple.style.top=15*Math.floor(Math.random()*(size.height/15))+"px",apple.style.left=15*Math.floor(Math.random()*(size.width/15))+"px",snake.style.top="".concat(size.height/2-15,"px"),snake.style.left="".concat(size.width/2-15,"px");var position={top:+snake.style.top.slice(0,-2),left:+snake.style.left.slice(0,-2)},setColor=function(e){h=range,e.style.backgroundColor="hsl(".concat(h,", 80%, 50%)"),range<360&&0===rangeFlipper?range++:360===range?(rangeFlipper=1,range--):180===--range&&(rangeFlipper=0)},app=function(){var e=document.createElement("div");e.classList.add("snake"),e.style.top=snakes[snakes.length-1].style.top,e.style.left=snakes[snakes.length-1].style.left,setColor(e),playground.append(e),snakes.push(e)},grow=function(){1===snakes.length&&(snakes[0].style.backgroundColor="hsl(".concat(h,", 80%, 50%)")),apple.style.top=15*Math.floor(Math.random()*(size.height/15))+"px",apple.style.left=15*Math.floor(Math.random()*(size.width/15))+"px",app(),score--,span.style.color="hsl(".concat(h,", 80%, 50%)"),span.textContent=score},dirCheck=function(e){0===hasStarted&&(h1.classList.remove("active"),hasStarted=1),"ArrowLeft"===e.key||"ArrowUp"===e.key?(direction=-1,clearInterval(interval)):"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(direction=1,clearInterval(interval))},movementVertical=function(){if((1<snakes.length&&position.top+15*direction===+snakes[1].style.top.slice(0,-2)||1<snakes.length&&check.translated&&check.direction===direction)&&(direction*=-1),position.top+=15*direction,1<snakes.length){for(var e=snakes.length-1;0<e;e--)snakes[e].style.left=snakes[e-1].style.left,snakes[e].style.top=snakes[e-1].style.top;snakes[0].style.top="".concat(position.top,"px")}else 1===snakes.length&&(snakes[0].style.top="".concat(position.top,"px"));isReady=!0},movementHorizontal=function(){if((1<snakes.length&&position.left+15*direction===+snakes[1].style.left.slice(0,-2)||1<snakes.length&&check.translated&&check.direction===direction)&&(direction*=-1),position.left+=15*direction,1<snakes.length){for(var e=snakes.length-1;0<e;e--)snakes[e].style.left=snakes[e-1].style.left,snakes[e].style.top=snakes[e-1].style.top;snakes[0].style.left="".concat(position.left,"px")}else 1===snakes.length&&(snakes[0].style.left="".concat(position.left,"px"));isReady=!0},win=function(){clearInterval(interval),h1.classList.add("win"),size.width<=570?h1.textContent="you won":h1.textContent="collected all apples",lost=1,apple.style.display="none",btn.classList.add("active")},defeat=function(){clearInterval(interval),snakes.forEach(function(e){return e.style.backgroundColor="red"}),h1.classList.add("lost"),h1.textContent="game over",lost=1,apple.style.display="none",btn.classList.add("active")},checkPosition=function(){+snake.style.left.slice(0,-2)===size.width?(snakes[0].style.left="0px",position.left=+snake.style.left.slice(0,-2),check.translated=!0,check.direction=-direction):"-15px"===snakes[0].style.left?(snakes[0].style.left=playground.scrollWidth-15+"px",position.left=+snake.style.left.slice(0,-2),check.translated=!0,check.direction=-direction):+snake.style.top.slice(0,-2)===playground.clientHeight?(snakes[0].style.top="0px",position.top=+snake.style.top.slice(0,-2),check.translated=!0,check.direction=-direction):"-15px"===snakes[0].style.top?(snakes[0].style.top=playground.clientHeight-15+"px",position.top=+snake.style.top.slice(0,-2),check.translated=!0,check.direction=-direction):check.translated=!1},steer=function(t){dirCheck(t),interval=setInterval(function(){"ArrowLeft"===t.key||"ArrowRight"===t.key?movementHorizontal():"ArrowUp"!==t.key&&"ArrowDown"!==t.key||movementVertical(),checkPosition(),snakes[0].style.top===apple.style.top&&snakes[0].style.left===apple.style.left&&(grow(),0===score&&win());for(var e=snakes.length-1;1<e;e--)snakes[e].style.left===snakes[0].style.left&&snakes[e].style.top===snakes[0].style.top&&defeat()},50)},resizeWidth=function(){for(size.width=0;size.width<window.innerWidth-60;)size.width+=15;size.width%10&&(size.width-=15),playground.style.width="".concat(size.width,"px")},resizeHeight=function(){for(size.height=0;size.height<window.innerHeight-75;)size.height+=15;size.height%10&&(size.height-=15),playground.style.height="".concat(size.height,"px")},resize=function(){window.innerWidth<1260?resizeWidth():(size.width=1200,playground.style.width="".concat(size.width,"px")),restart(),window.innerHeight<=720?resizeHeight():(size.height=660,playground.style.height="".concat(size.height,"px")),restart()},restart=function(){for(var e=snakes.length-1;0<e;e--)snakes[e].remove(),snakes.pop();btn.classList.remove("active"),h1.classList.remove("win"),h1.classList.remove("lost"),h1.classList.add("active"),size.width<540?h1.textContent="use 🏹":h1.textContent="navigate with arrows",direction="",h=range=180,score=difficulty,hasStarted=rangeFlipper=lost=0,span.textContent=score,span.style.color="hsl(179, 100%, 55%)",apple.style.top=15*Math.floor(Math.random()*(size.height/15))+"px",apple.style.left=15*Math.floor(Math.random()*(size.width/15))+"px",snake.style.top="".concat(size.height/2-15,"px"),snake.style.left="".concat(size.width/2-15,"px"),snake.style.backgroundColor="#fff",position.top=+snake.style.top.slice(0,-2),position.left=+snake.style.left.slice(0,-2),apple.style.display="block"};resize(),document.addEventListener("keydown",function(e){0===lost&&e.key.includes("Arrow")&&isReady&&(isReady=!1,steer(e))}),window.addEventListener("resize",resize),btn.addEventListener("click",restart);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic25ha2VzIiwicGxheWdyb3VuZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNuYWtlIiwiYXBwbGUiLCJzcGFuIiwiYnRuIiwiaDEiLCJkaWZmaWN1bHR5IiwiaW50ZXJ2YWwiLCJkaXJlY3Rpb24iLCJsb3N0IiwicmFuZ2UiLCJoIiwicmFuZ2VGbGlwcGVyIiwic2NvcmUiLCJoYXNTdGFydGVkIiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwidGV4dENvbnRlbnQiLCJNYXRoIiwic3R5bGUiLCJsZWZ0IiwiZmxvb3IiLCJyYW5kb20iLCJ0b3AiLCJwb3NpdGlvbiIsImNvbmNhdCIsInNsaWNlIiwiYmFja2dyb3VuZENvbG9yIiwiZWwiLCJhcHAiLCJzbmFrZUVsIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImxlbmd0aCIsInNldENvbG9yIiwicHVzaCIsImNvbG9yIiwiZGlyQ2hlY2siLCJlIiwicmVtb3ZlIiwia2V5IiwiY2xlYXJJbnRlcnZhbCIsIm1vdmVtZW50VmVydGljYWwiLCJjaGVjayIsInRyYW5zbGF0ZWQiLCJpIiwiaXNSZWFkeSIsIm1vdmVtZW50SG9yaXpvbnRhbCIsIndpbiIsImRpc3BsYXkiLCJkZWZlYXQiLCJzIiwiY2hlY2tQb3NpdGlvbiIsInNjcm9sbFdpZHRoIiwiY2xpZW50SGVpZ2h0Iiwic3RlZXIiLCJzZXRJbnRlcnZhbCIsImdyb3ciLCJyZXNpemVXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInJlc2l6ZUhlaWdodCIsInJlc2l6ZSIsInJlc3RhcnQiLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQU1NQSxTQU5BQyxXQUFhQyxTQUFTQyxjQUFjLGVBQ3BDQyxNQUFRRixTQUFTQyxjQUFjLFVBRC9CRixNQUFVQyxTQUFHQSxjQUFTQyxVQUN0QkMsS0FBUUYsU0FBU0MsY0FBYyxTQUMvQkUsSUFBUUgsU0FBU0MsY0FBYyxRQUMvQkcsR0FBT0osU0FBU0MsY0FBYyxPQUM5QkksT0FBTUwsQ0FBQUEsT0FDTk0sV0FBYSxHQUVmQyxVQUFVLEdBQ1ZDLEtBQUFBLEVBQ0FDLE1BQUFBLElBQ0FDLEVBQUlDLE1BQ0pBLGFBQUosRUFDSUMsTUFBSUQsV0FDSkUsU0FBQUEsRUFDQUMsV0FBUVAsRUFFUlEsTUFBVSxDQUVkTixVQUFjLEVBQ2JBLFlBQVcsR0FJTk8sS0FBTyxDQUNaQyxNQUFLLEtBQ0xDLE9BQU0sS0FJUGYsS0FBS2dCLFlBQWFDLE1BQ2xCakIsTUFBTWtCLE1BQU1DLElBQXVELEdBQW5FRixLQUF1QkcsTUFBSkgsS0FBZUksVUFBSlIsS0FBcUJFLE9BQVMsS0FBWSxLQUN4RWhCLE1BQU1tQixNQUFNSSxLQUFaLEdBQUFMLEtBQUFHLE1BQXFCUCxLQUFLRSxVQUFhRixLQUF2Q0MsTUFBQSxLQUFBLEtBQ0FmLE1BQU1tQixNQUFNQyxJQUFacEIsR0FBQUEsT0FBQWMsS0FBQUUsT0FBMkJELEVBQUwsR0FBdEJmLE1BRUFBLE1BQU13QixNQUFRSixLQUFkLEdBQUFLLE9BQWlCWCxLQUFBQyxNQUFBLEVBQUEsR0FBakIsTUFFQ0ssSUFBSUksU0FBU0wsQ0FGZEksS0FBQXZCLE1BQUFtQixNQUFBSSxJQUFBRyxNQUFBLEdBQUEsR0FFQ04sTUFBT3BCLE1BQU1tQixNQUFNQyxLQUFLTSxNQUFNLEdBQUksSUFLL0JQLFNBQU1RLFNBQUFBLEdBRFRqQixFQUFJRCxNQUVKbUIsRUFBQVQsTUFBSVYsZ0JBQUosT0FBQWdCLE9BQStCZixFQUEvQixlQUNDRCxNQUFLLEtBQUEsSUFBQUUsYUFDTEYsUUFDQSxNQUFBRSxPQUNBRixhQUFLLEVBQ0xBLFNBRVMsUUFEVEEsUUFFQ0UsYUFBWSxJQUtUa0IsSUFBTSxXQUNYLElBQU1DLEVBQVVoQyxTQUFTaUMsY0FBYyxPQUN2Q0QsRUFBT0UsVUFBUEMsSUFBQSxTQUNBSCxFQUFPWCxNQUFQSSxJQUFBM0IsT0FBMEJBLE9BQU9zQyxPQUFOLEdBQVBmLE1BQUFJLElBQ3BCTyxFQUFPWCxNQUFQQyxLQUFBeEIsT0FBMkJBLE9BQU9zQyxPQUFOLEdBQVBmLE1BQUFDLEtBQ3JCZSxTQUFRTCxHQUdSbEMsV0FBT3dDLE9BQUtOLEdBUmJsQyxPQUFBd0MsS0FBQU4sSUFZS2xDLEtBQU9zQyxXQUNNUCxJQUFoQi9CLE9BQU1zQyxTQUNOdEMsT0FBQSxHQUFBdUIsTUFBQVEsZ0JBQUEsT0FBQUYsT0FBQWYsRUFBQSxnQkFDRFQsTUFBS2tCLE1BQUxJLElBQWtCLEdBQWxCTCxLQUFzQkcsTUFBSkgsS0FBZUksVUFBSlIsS0FBcUJFLE9BQUosS0FBNUIsS0FDbEJmLE1BQUtrQixNQUFMQyxLQUFtQixHQUFuQkYsS0FBdUJHLE1BQUpILEtBQWVJLFVBQUpSLEtBQXFCQyxNQUFKLEtBQTVCLEtBQ25CYyxNQUNBakIsUUFDQVYsS0FBSWlCLE1BQUprQixNQUFBbkMsT0FBQUEsT0FBQVEsRUFBQVIsZUFDQUEsS0FBSWUsWUFBSkwsT0FHSzBCLFNBQVcsU0FBQUMsR0FDRixJQUFkMUIsYUFDQ1QsR0FBQUEsVUFBRzRCLE9BQVVRLFVBQ2IzQixXQUFVLEdBRUcsY0FBVjBCLEVBQUVFLEtBQWlDLFlBQVZGLEVBQUVFLEtBQS9CbEMsV0FBSSxFQUNIQSxjQUFZRCxXQUNFQSxlQUFkb0MsRUFBQUEsS0FBQSxjQUFBSCxFQUFBRSxNQUNBbEMsVUFBVyxFQUNYQSxjQUFZRCxZQUtScUMsaUJBQW1CLFdBUXhCLElBTkUsRUFERi9DLE9BQ0VBLFFBQUE0QixTQUFxQkEsSUFBQSxHQUFlakIsYUFBZlgsT0FBbUNBLEdBQU91QixNQUFHQSxJQUFNSSxNQUFJRyxHQUFwQixJQUd6RCxFQUFBbkIsT0FBQUEsUUFBQXFDLE1BQUFDLFlBQUFELE1BQUFyQyxZQUFBQSxhQUFBQSxZQUFjLEdBRWZpQixTQUFTRCxLQUFPLEdBQUtoQixVQUNqQixFQUFKWCxPQUFVc0MsT0FBVixDQUNDLElBQUEsSUFBS1ksRUFBS2xELE9BQUdBLE9BQUEsRUFBb0IsRUFBakNrRCxFQUFBQSxJQUNDbEQsT0FBQUEsR0FBT2tELE1BQUczQixLQUFWdkIsT0FBdUJBLEVBQVEsR0FBR3VCLE1BQUdBLEtBQ3JDdkIsT0FBQUEsR0FBT2tELE1BQUczQixJQUFWdkIsT0FBc0JBLEVBQVEsR0FBR3VCLE1BQUdBLElBRXJDdkIsT0FBTyxHQUFHdUIsTUFBTUksSUFBaEIsR0FBQUUsT0FBeUJELFNBQVNELElBQWxDLFdBQUEsSUFBTTNCLE9BQU5zQyxTQUNBdEMsT0FBTSxHQUFBdUIsTUFBSXZCLElBQVYsR0FBQTZCLE9BQVVELFNBQXFCRCxJQUEvQixPQUlEd0IsU0FBVSxHQUdMQyxtQkFBcUIsV0FVekIsSUFSQyxFQURGcEQsT0FDRUEsUUFBQTRCLFNBQXFCQSxLQUFBLEdBQWdCakIsYUFBaEJYLE9BQW9DQSxHQUFPdUIsTUFBR0EsS0FBTUMsTUFBS00sR0FBckIsSUFHMUQsRUFBQW5CLE9BQUFBLFFBQUFxQyxNQUFBQyxZQUFBRCxNQUFBckMsWUFBQUEsYUFBQUEsWUFBYyxHQUVmaUIsU0FBU0osTUFBUSxHQUFLYixVQUdSWCxFQUFiQSxPQUFLc0MsT0FBZUEsQ0FDbkJ0QyxJQUFBQSxJQUFBQSxFQUFBQSxPQUFnQndCLE9BQU94QixFQUFRLEVBQVJBLEVBQU1rRCxJQUM3QmxELE9BQUFBLEdBQU9rRCxNQUFHM0IsS0FBVnZCLE9BQXNCQSxFQUFRLEdBQUZ1QixNQUFRQSxLQUNwQ3ZCLE9BQUFrRCxHQUFBM0IsTUFBQUksSUFBQTNCLE9BQUFrRCxFQUFBLEdBQUEzQixNQUFBSSxJQUNEM0IsT0FBQUEsR0FBTXVCLE1BQUlBLEtBQVZ2QixHQUFBQSxPQUFBNEIsU0FBMEJBLEtBQTFCNUIsV0FDVSxJQUFKQSxPQUFVc0MsU0FDaEJ0QyxPQUFBQSxHQUFNdUIsTUFBSUEsS0FBVnZCLEdBQUFBLE9BQUE0QixTQUEwQkEsS0FBMUI1QixPQUdEbUQsU0FBTyxHQUdGRSxJQUFNLFdBQ1hQLGNBQWFwQyxVQUNiRixHQUFFNEIsVUFBRkMsSUFBQSxPQUNJbkIsS0FBS0MsT0FBUyxJQUFsQlgsR0FBQWEsWUFBSSxVQUVIYixHQUZEYSxZQUVPLHVCQUVOVCxLQUFBLEVBRURQLE1BQU1rQixNQUFNK0IsUUFBVSxPQUR0QjFDLElBQUFBLFVBQUF5QixJQUFBLFdBUkRrQixPQUFBLFdBY0NULGNBQWNwQyxVQURmVixPQUFNdUQsUUFBUyxTQUFBQyxHQUFBLE9BQVRELEVBQUFBLE1BQVN4QixnQkFBTSxRQUNwQmUsR0FBQUEsVUFBQUEsSUFBY3BDLFFBQ2RWLEdBQUFBLFlBQWUsWUFBQ1ksS0FBQSxFQUFBUCxNQUFoQmtCLE1BQUErQixRQUFBLE9BQ0E5QyxJQUFHNEIsVUFBVUMsSUFBSSxXQXVCbEJvQixjQUFBLFlBRU1yRCxNQUFNbUIsTUFBTUMsS0FBS00sTUFBTSxHQUFJLEtBQU9aLEtBQUtDLE9BQzNDbkIsT0FBTyxHQUFHdUIsTUFBTUMsS0FBaEIsTUFGRkksU0FBTTZCLE1BQWFyRCxNQUFHbUIsTUFBaEJrQyxLQUFBQSxNQUFnQixHQUFNLEdBQzNCVCxNQUFLNUMsWUFBWW9CLEVBQ2hCeEIsTUFBQUEsV0FBZ0J3QixXQUNDLFVBQVR4QixPQUFSLEdBQWlCSSxNQUFNbUIsTUFDdkJ5QixPQUFLLEdBQUNDLE1BQUFBLEtBQWFoRCxXQUFuQnlELFlBQUEsR0FBQSxLQUNBVixTQUFNckMsTUFBTlAsTUFBbUJPLE1BQUFBLEtBQW5CbUIsTUFBQSxHQUFBLEdBQ0FrQixNQUxEQyxZQUtpQixFQUNoQmpELE1BQUFBLFdBQWdCd0IsWUFDUEEsTUFBVEQsTUFBaUJuQixJQUFNbUIsTUFBTUMsR0FBS00sS0FBakI3QixXQUFqQjBELGNBQ0FYLE9BQUssR0FBQ0MsTUFBQUEsSUFBYSxNQUNuQkQsU0FBTXJDLEtBQUFBLE1BQWFBLE1BQUFBLElBQW5CbUIsTUFBQSxHQUFBLEdBQ0FrQixNQUxNQyxZQUtXMUIsRUFDakJ2QixNQUFBQSxXQUFnQjJCLFdBQ2dCRyxVQUF4QjlCLE9BQU8sR0FBQ0ksTUFBTW1CLEtBQ3RCeUIsT0FBSyxHQUFDQyxNQUFBQSxJQUFhaEQsV0FBbkIwRCxhQUFBLEdBQUEsS0FDQVgsU0FBTXJDLEtBQUFBLE1BQWFBLE1BQUFBLElBQW5CbUIsTUFBQSxHQUFBLEdBQ0FrQixNQUxNQyxZQUtVLEVBQ2hCakQsTUFBQUEsV0FBZ0IyQixXQUVoQnFCLE1BQUFBLFlBQUEsR0FJQVksTUFBQSxTQUFBakIsR0F2QkZELFNBQUFDLEdBNEJDakMsU0FBV21ELFlBQVksV0FGVixjQUFSRCxFQUFBQSxLQUFhLGVBQUFqQixFQUFBRSxJQUNsQkgscUJBQ1dtQixZQUFBQSxFQUFBQSxLQUFrQixjQUFObEIsRUFBTUUsS0FDNUJFLG1CQUVDVSxnQkFFQXpELE9BQUEsR0FBQXVCLE1BQUFJLE1BQUF0QixNQUFBa0IsTUFBQUksS0FBQTNCLE9BQUEsR0FBQXVCLE1BQUFDLE9BQUFuQixNQUFBa0IsTUFBQUMsT0FJQXNDLE9BSFksSUFBYkwsT0FLRUosT0FERCxJQUFBLElBQUlyQyxFQUFLaEIsT0FBVHNDLE9BQWlCLEVBQUEsRUFBQVksRUFBQUEsSUFDaEJHLE9BQUdILEdBQUEzQixNQUFBQyxPQUFBeEIsT0FBQSxHQUFBdUIsTUFBQUMsTUFBQXhCLE9BQUFrRCxHQUFBM0IsTUFBQUksTUFBQTNCLE9BQUEsR0FBQXVCLE1BQUFJLEtBQ0g0QixVQUdGLEtBR0VRLFlBQUEsV0FFRixJQURDN0MsS0FBQUMsTUFBQSxFQW5CRkQsS0FBQUMsTUFBQTZDLE9BQUFDLFdBQUEsSUFGRC9DLEtBQUFDLE9BQUEsR0F5Qk00QyxLQUFBQSxNQUFjLEtBQ25CN0MsS0FBS0MsT0FBTCxJQUVDRCxXQUFLQyxNQUFTQSxNQUFkRCxHQUFBQSxPQUFBQSxLQUFBQyxNQUFBRCxPQUVHQSxhQUFKLFdBRUMsSUFEQUEsS0FBQUEsT0FBQSxFQUNBQSxLQUFBRSxPQUFBNEMsT0FBQUUsWUFBQSxJQVFBaEQsS0FBS0UsUUFBVSxHQUdaRixLQUFLRSxPQUFTLEtBTm5CRixLQUFNaUQsUUFBWSxJQUVqQmxFLFdBQU9pQixNQUFLRSxPQUFaLEdBQUFTLE9BQTRCcUMsS0FBQUEsT0FBNUIsT0FXS0UsT0FBUyxXQVBkSixPQUFTNUMsV0FBYSxLQUNyQkYsZUFHRGpCLEtBQUFBLE1BQVdzQixLQVZadEIsV0FBQXNCLE1BQUFKLE1BQUEsR0FBQVUsT0FBQVgsS0FBQUMsTUFBQSxPQVFFa0QsVUFNREwsT0FBVUUsYUFBYyxJQUN2QkgsZ0JBR0E3QyxLQUFBQSxPQUFBLElBQ0FqQixXQUFBQSxNQUFXc0IsT0FBWHRCLEdBQUFBLE9BQUFpQixLQUFBRSxPQUFBbkIsT0FIQW9FLFdBT0FGLFFBQVksV0FDWkUsSUFBQUEsSUFBQUEsRUFBT3JFLE9BQUFzQyxPQUFBLEVBQUEsRUFBQVksRUFBQUEsSUFDUGxELE9BQU1rRCxHQUFBTixTQUNOMUIsT0FBS0UsTUFFTGlELElBQUFBLFVBQU96QixPQUFBLFVBQ1BwQyxHQUFBNEIsVUFBQVEsT0FBQSxPQWhCRnBDLEdBQUE0QixVQUFBUSxPQUFBLFFBMkJDcEMsR0FBRzRCLFVBQVVDLElBQUksVUFSWmdDLEtBQUFBLE1BQVUsSUFDZjdELEdBQUFhLFlBQWFyQixTQUVaQSxHQUFBQSxZQUFBLHVCQVdEVyxVQUFZLEdBUFpILEVBREFBLE1BQUc0QixJQWFIcEIsTUFBUVAsV0FWUlEsV0FEQVQsYUFIQUQsS0FBSTZCLEVBS0g1QixLQUFFYSxZQUFGTCxNQUNBVixLQUZEaUIsTUFFT2tCLE1BQUEsc0JBQ05qQyxNQUFHYSxNQUFBQSxJQUFILEdBQUFDLEtBQWlCRyxNQUFBSCxLQUFBSSxVQUFqQlIsS0FBQUUsT0FBQSxLQUFBLEtBQ0FmLE1BQUFrQixNQUFBQyxLQUFBLEdBQUFGLEtBQUFHLE1BQUFILEtBQUFJLFVBQUFSLEtBQUFDLE1BQUEsS0FBQSxLQVlEZixNQUFNbUIsTUFBTUksSUFBWixHQUFBRSxPQUFxQlgsS0FBS0UsT0FBUyxFQUFJLEdBQXZDLE1BWEFULE1BQUFBLE1BQVNhLEtBQVRiLEdBQUFBLE9BQUFPLEtBQUFDLE1BQUEsRUFBQSxHQUFBUixNQUNBQyxNQUFJVyxNQUFKUSxnQkFBQSxPQUNBbEIsU0FBUWMsS0FBUnZCLE1BQUFtQixNQUFBSSxJQUFBRyxNQUFBLEdBQUEsR0FDQWhCLFNBQUlELE1BQUpULE1BQUFtQixNQUFBQyxLQUFBTSxNQUFBLEdBQUEsR0FDQWYsTUFBQUEsTUFBQUEsUUFBQSxTQUVBRSxTQUVBWCxTQUFLaUIsaUJBQWMsVUFBQSxTQUFBb0IsR0FDUGhCLElBQVp0QixNQUFBc0MsRUFBa0JyQixJQUFLRyxTQUFNSCxVQUFBNkIsVUFDN0I5QyxTQUFNa0IsRUFDTm5CLE1BQU1tQixNQUlOSyxPQUFBQSxpQkFBc0IsU0FBT0osUUFFN0JqQixJQS9CRCtELGlCQUFBLFFBQUFEIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGxheWdyb3VuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5Z3JvdW5kJylcclxuY29uc3Qgc25ha2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc25ha2UnKVxyXG5jb25zdCBhcHBsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBsZScpXHJcbmNvbnN0IHNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3BhbicpXHJcbmNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4nKVxyXG5jb25zdCBoMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oMScpXHJcbmNvbnN0IHNuYWtlcyA9IFtzbmFrZV1cclxubGV0IGRpZmZpY3VsdHkgPSA1MFxyXG5sZXQgaW50ZXJ2YWxcclxubGV0IGRpcmVjdGlvbiA9ICcnXHJcbmxldCBsb3N0ID0gMFxyXG5sZXQgcmFuZ2UgPSAxODBcclxubGV0IGggPSByYW5nZVxyXG5sZXQgcmFuZ2VGbGlwcGVyID0gMFxyXG5sZXQgc2NvcmUgPSBkaWZmaWN1bHR5XHJcbmxldCBpc1JlYWR5ID0gdHJ1ZVxyXG5sZXQgaGFzU3RhcnRlZCA9IDBcclxuXHJcbmNvbnN0IGNoZWNrID0ge1xyXG5cdGRpcmVjdGlvbjogMCxcclxuXHR0cmFuc2xhdGVkOiBmYWxzZSxcclxufVxyXG5cclxuY29uc3Qgc2l6ZSA9IHtcclxuXHR3aWR0aDogMTIwMCxcclxuXHRoZWlnaHQ6IDY2MCxcclxufVxyXG5cclxuc3Bhbi50ZXh0Q29udGVudCA9IHNjb3JlXHJcbmFwcGxlLnN0eWxlLnRvcCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChzaXplLmhlaWdodCAvIDE1KSkgKiAxNSArICdweCdcclxuYXBwbGUuc3R5bGUubGVmdCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChzaXplLndpZHRoIC8gMTUpKSAqIDE1ICsgJ3B4J1xyXG5zbmFrZS5zdHlsZS50b3AgPSBgJHtzaXplLmhlaWdodCAvIDIgLSAxNX1weGBcclxuc25ha2Uuc3R5bGUubGVmdCA9IGAke3NpemUud2lkdGggLyAyIC0gMTV9cHhgXHJcblxyXG5jb25zdCBwb3NpdGlvbiA9IHtcclxuXHR0b3A6ICtzbmFrZS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpLFxyXG5cdGxlZnQ6ICtzbmFrZS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSxcclxufVxyXG5cclxuY29uc3Qgc2V0Q29sb3IgPSBlbCA9PiB7XHJcblx0aCA9IHJhbmdlXHJcblx0ZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYGhzbCgke2h9LCA4MCUsIDUwJSlgXHJcblx0aWYgKHJhbmdlIDwgMzYwICYmIHJhbmdlRmxpcHBlciA9PT0gMCkge1xyXG5cdFx0cmFuZ2UrK1xyXG5cdH0gZWxzZSBpZiAocmFuZ2UgPT09IDM2MCkge1xyXG5cdFx0cmFuZ2VGbGlwcGVyID0gMVxyXG5cdFx0cmFuZ2UtLVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyYW5nZS0tXHJcblx0XHRpZiAocmFuZ2UgPT09IDE4MCkge1xyXG5cdFx0XHRyYW5nZUZsaXBwZXIgPSAwXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBhcHAgPSAoKSA9PiB7XHJcblx0Y29uc3Qgc25ha2VFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0c25ha2VFbC5jbGFzc0xpc3QuYWRkKCdzbmFrZScpXHJcblx0c25ha2VFbC5zdHlsZS50b3AgPSBzbmFrZXNbc25ha2VzLmxlbmd0aCAtIDFdLnN0eWxlLnRvcFxyXG5cdHNuYWtlRWwuc3R5bGUubGVmdCA9IHNuYWtlc1tzbmFrZXMubGVuZ3RoIC0gMV0uc3R5bGUubGVmdFxyXG5cdHNldENvbG9yKHNuYWtlRWwpXHJcblxyXG5cdHBsYXlncm91bmQuYXBwZW5kKHNuYWtlRWwpXHJcblx0c25ha2VzLnB1c2goc25ha2VFbClcclxufVxyXG5cclxuY29uc3QgZ3JvdyA9ICgpID0+IHtcclxuXHRpZiAoc25ha2VzLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0c25ha2VzWzBdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGBoc2woJHtofSwgODAlLCA1MCUpYFxyXG5cdH1cclxuXHRhcHBsZS5zdHlsZS50b3AgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS5oZWlnaHQgLyAxNSkpICogMTUgKyAncHgnXHJcblx0YXBwbGUuc3R5bGUubGVmdCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChzaXplLndpZHRoIC8gMTUpKSAqIDE1ICsgJ3B4J1xyXG5cdGFwcCgpXHJcblx0c2NvcmUtLVxyXG5cdHNwYW4uc3R5bGUuY29sb3IgPSBgaHNsKCR7aH0sIDgwJSwgNTAlKWBcclxuXHRzcGFuLnRleHRDb250ZW50ID0gc2NvcmVcclxufVxyXG5cclxuY29uc3QgZGlyQ2hlY2sgPSBlID0+IHtcclxuXHRpZiAoaGFzU3RhcnRlZCA9PT0gMCkge1xyXG5cdFx0aDEuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdGhhc1N0YXJ0ZWQgPSAxXHJcblx0fVxyXG5cdGlmIChlLmtleSA9PT0gJ0Fycm93TGVmdCcgfHwgZS5rZXkgPT09ICdBcnJvd1VwJykge1xyXG5cdFx0ZGlyZWN0aW9uID0gLTFcclxuXHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcblx0fSBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnIHx8IGUua2V5ID09PSAnQXJyb3dEb3duJykge1xyXG5cdFx0ZGlyZWN0aW9uID0gMVxyXG5cdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbClcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IG1vdmVtZW50VmVydGljYWwgPSAoKSA9PiB7XHJcblx0aWYgKFxyXG5cdFx0KHNuYWtlcy5sZW5ndGggPiAxICYmIHBvc2l0aW9uLnRvcCArIDE1ICogZGlyZWN0aW9uID09PSArc25ha2VzWzFdLnN0eWxlLnRvcC5zbGljZSgwLCAtMikpIHx8XHJcblx0XHQoc25ha2VzLmxlbmd0aCA+IDEgJiYgY2hlY2sudHJhbnNsYXRlZCAmJiBjaGVjay5kaXJlY3Rpb24gPT09IGRpcmVjdGlvbilcclxuXHQpIHtcclxuXHRcdGRpcmVjdGlvbiAqPSAtMVxyXG5cdH1cclxuXHRwb3NpdGlvbi50b3AgKz0gMTUgKiBkaXJlY3Rpb25cclxuXHRpZiAoc25ha2VzLmxlbmd0aCA+IDEpIHtcclxuXHRcdGZvciAobGV0IGkgPSBzbmFrZXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG5cdFx0XHRzbmFrZXNbaV0uc3R5bGUubGVmdCA9IHNuYWtlc1tpIC0gMV0uc3R5bGUubGVmdFxyXG5cdFx0XHRzbmFrZXNbaV0uc3R5bGUudG9wID0gc25ha2VzW2kgLSAxXS5zdHlsZS50b3BcclxuXHRcdH1cclxuXHRcdHNuYWtlc1swXS5zdHlsZS50b3AgPSBgJHtwb3NpdGlvbi50b3B9cHhgXHJcblx0fSBlbHNlIGlmIChzbmFrZXMubGVuZ3RoID09PSAxKSB7XHJcblx0XHRzbmFrZXNbMF0uc3R5bGUudG9wID0gYCR7cG9zaXRpb24udG9wfXB4YFxyXG5cdH1cclxuXHJcblx0aXNSZWFkeSA9IHRydWVcclxufVxyXG5cclxuY29uc3QgbW92ZW1lbnRIb3Jpem9udGFsID0gKCkgPT4ge1xyXG5cdGlmIChcclxuXHRcdChzbmFrZXMubGVuZ3RoID4gMSAmJiBwb3NpdGlvbi5sZWZ0ICsgMTUgKiBkaXJlY3Rpb24gPT09ICtzbmFrZXNbMV0uc3R5bGUubGVmdC5zbGljZSgwLCAtMikpIHx8XHJcblx0XHQoc25ha2VzLmxlbmd0aCA+IDEgJiYgY2hlY2sudHJhbnNsYXRlZCAmJiBjaGVjay5kaXJlY3Rpb24gPT09IGRpcmVjdGlvbilcclxuXHQpIHtcclxuXHRcdGRpcmVjdGlvbiAqPSAtMVxyXG5cdH1cclxuXHRwb3NpdGlvbi5sZWZ0ICs9IDE1ICogZGlyZWN0aW9uXHJcblxyXG5cdGlmIChzbmFrZXMubGVuZ3RoID4gMSkge1xyXG5cdFx0Zm9yIChsZXQgaSA9IHNuYWtlcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XHJcblx0XHRcdHNuYWtlc1tpXS5zdHlsZS5sZWZ0ID0gc25ha2VzW2kgLSAxXS5zdHlsZS5sZWZ0XHJcblx0XHRcdHNuYWtlc1tpXS5zdHlsZS50b3AgPSBzbmFrZXNbaSAtIDFdLnN0eWxlLnRvcFxyXG5cdFx0fVxyXG5cdFx0c25ha2VzWzBdLnN0eWxlLmxlZnQgPSBgJHtwb3NpdGlvbi5sZWZ0fXB4YFxyXG5cdH0gZWxzZSBpZiAoc25ha2VzLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0c25ha2VzWzBdLnN0eWxlLmxlZnQgPSBgJHtwb3NpdGlvbi5sZWZ0fXB4YFxyXG5cdH1cclxuXHJcblx0aXNSZWFkeSA9IHRydWVcclxufVxyXG5cclxuY29uc3Qgd2luID0gKCkgPT4ge1xyXG5cdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcblx0aDEuY2xhc3NMaXN0LmFkZCgnd2luJylcclxuXHRpZiAoc2l6ZS53aWR0aCA8PSA1NzApIHtcclxuXHRcdGgxLnRleHRDb250ZW50ID0gJ3lvdSB3b24nXHJcblx0fSBlbHNlIHtcclxuXHRcdGgxLnRleHRDb250ZW50ID0gJ2NvbGxlY3RlZCBhbGwgYXBwbGVzJ1xyXG5cdH1cclxuXHRsb3N0ID0gMVxyXG5cdGFwcGxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHRidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxufVxyXG5cclxuY29uc3QgZGVmZWF0ID0gKCkgPT4ge1xyXG5cdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcblx0c25ha2VzLmZvckVhY2gocyA9PiAocy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmVkJykpXHJcblx0aDEuY2xhc3NMaXN0LmFkZCgnbG9zdCcpXHJcblx0aDEudGV4dENvbnRlbnQgPSAnZ2FtZSBvdmVyJ1xyXG5cdGxvc3QgPSAxXHJcblx0YXBwbGUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG59XHJcblxyXG4vLyBjb25zdCBjaGVja1Bvc2l0aW9uID0gKCkgPT4ge1xyXG4vLyBcdGlmIChzbmFrZXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCA9PT0gcGxheWdyb3VuZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCkge1xyXG4vLyBcdFx0c25ha2VzWzBdLnN0eWxlLmxlZnQgPSBgMHB4YFxyXG4vLyBcdFx0cG9zaXRpb24ubGVmdCA9ICtzbmFrZS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKVxyXG4vLyBcdH0gZWxzZSBpZiAoc25ha2VzWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyAxNSA9PT0gcGxheWdyb3VuZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KSB7XHJcbi8vIFx0XHRzbmFrZXNbMF0uc3R5bGUubGVmdCA9IHBsYXlncm91bmQuY2xpZW50V2lkdGggLSAxNSArICdweCdcclxuLy8gXHRcdHBvc2l0aW9uLmxlZnQgPSArc25ha2Uuc3R5bGUubGVmdC5zbGljZSgwLCAtMilcclxuLy8gXHR9IGVsc2UgaWYgKHNuYWtlc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPT09IHBsYXlncm91bmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKSB7XHJcbi8vIFx0XHRzbmFrZXNbMF0uc3R5bGUudG9wID0gJzBweCdcclxuLy8gXHRcdHBvc2l0aW9uLnRvcCA9ICtzbmFrZS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpXHJcbi8vIFx0fSBlbHNlIGlmIChzbmFrZXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgMTUgPT09IHBsYXlncm91bmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKSB7XHJcbi8vIFx0XHRzbmFrZXNbMF0uc3R5bGUudG9wID0gcGxheWdyb3VuZC5jbGllbnRIZWlnaHQgLSAxNSArICdweCdcclxuLy8gXHRcdHBvc2l0aW9uLnRvcCA9ICtzbmFrZS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpXHJcbi8vIFx0fVxyXG4vLyB9XHJcblxyXG4vLyBzbmFrZXNbMF0uc3R5bGUubGVmdCA9ICcxMjAwcHgnXHJcbmNvbnN0IGNoZWNrUG9zaXRpb24gPSAoKSA9PiB7XHJcblx0aWYgKCtzbmFrZS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSA9PT0gc2l6ZS53aWR0aCkge1xyXG5cdFx0c25ha2VzWzBdLnN0eWxlLmxlZnQgPSBgMHB4YFxyXG5cdFx0cG9zaXRpb24ubGVmdCA9ICtzbmFrZS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKVxyXG5cdFx0Y2hlY2sudHJhbnNsYXRlZCA9IHRydWVcclxuXHRcdGNoZWNrLmRpcmVjdGlvbiA9IC1kaXJlY3Rpb25cclxuXHR9IGVsc2UgaWYgKHNuYWtlc1swXS5zdHlsZS5sZWZ0ID09PSAnLTE1cHgnKSB7XHJcblx0XHRzbmFrZXNbMF0uc3R5bGUubGVmdCA9IHBsYXlncm91bmQuc2Nyb2xsV2lkdGggLSAxNSArICdweCdcclxuXHRcdHBvc2l0aW9uLmxlZnQgPSArc25ha2Uuc3R5bGUubGVmdC5zbGljZSgwLCAtMilcclxuXHRcdGNoZWNrLnRyYW5zbGF0ZWQgPSB0cnVlXHJcblx0XHRjaGVjay5kaXJlY3Rpb24gPSAtZGlyZWN0aW9uXHJcblx0fSBlbHNlIGlmICgrc25ha2Uuc3R5bGUudG9wLnNsaWNlKDAsIC0yKSA9PT0gcGxheWdyb3VuZC5jbGllbnRIZWlnaHQpIHtcclxuXHRcdHNuYWtlc1swXS5zdHlsZS50b3AgPSAnMHB4J1xyXG5cdFx0cG9zaXRpb24udG9wID0gK3NuYWtlLnN0eWxlLnRvcC5zbGljZSgwLCAtMilcclxuXHRcdGNoZWNrLnRyYW5zbGF0ZWQgPSB0cnVlXHJcblx0XHRjaGVjay5kaXJlY3Rpb24gPSAtZGlyZWN0aW9uXHJcblx0fSBlbHNlIGlmIChzbmFrZXNbMF0uc3R5bGUudG9wID09PSAnLTE1cHgnKSB7XHJcblx0XHRzbmFrZXNbMF0uc3R5bGUudG9wID0gcGxheWdyb3VuZC5jbGllbnRIZWlnaHQgLSAxNSArICdweCdcclxuXHRcdHBvc2l0aW9uLnRvcCA9ICtzbmFrZS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpXHJcblx0XHRjaGVjay50cmFuc2xhdGVkID0gdHJ1ZVxyXG5cdFx0Y2hlY2suZGlyZWN0aW9uID0gLWRpcmVjdGlvblxyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGVjay50cmFuc2xhdGVkID0gZmFsc2VcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHN0ZWVyID0gZSA9PiB7XHJcblx0ZGlyQ2hlY2soZSlcclxuXHRpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuXHRcdGlmIChlLmtleSA9PT0gJ0Fycm93TGVmdCcgfHwgZS5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xyXG5cdFx0XHRtb3ZlbWVudEhvcml6b250YWwoKVxyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93VXAnIHx8IGUua2V5ID09PSAnQXJyb3dEb3duJykge1xyXG5cdFx0XHRtb3ZlbWVudFZlcnRpY2FsKClcclxuXHRcdH1cclxuXHRcdGNoZWNrUG9zaXRpb24oKVxyXG5cclxuXHRcdGlmIChzbmFrZXNbMF0uc3R5bGUudG9wID09PSBhcHBsZS5zdHlsZS50b3AgJiYgc25ha2VzWzBdLnN0eWxlLmxlZnQgPT09IGFwcGxlLnN0eWxlLmxlZnQpIHtcclxuXHRcdFx0Z3JvdygpXHJcblx0XHRcdGlmIChzY29yZSA9PT0gMCkge1xyXG5cdFx0XHRcdHdpbigpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGxldCBpID0gc25ha2VzLmxlbmd0aCAtIDE7IGkgPiAxOyBpLS0pIHtcclxuXHRcdFx0aWYgKHNuYWtlc1tpXS5zdHlsZS5sZWZ0ID09PSBzbmFrZXNbMF0uc3R5bGUubGVmdCAmJiBzbmFrZXNbaV0uc3R5bGUudG9wID09PSBzbmFrZXNbMF0uc3R5bGUudG9wKSB7XHJcblx0XHRcdFx0ZGVmZWF0KClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sIDUwKVxyXG59XHJcblxyXG5jb25zdCByZXNpemVXaWR0aCA9ICgpID0+IHtcclxuXHRzaXplLndpZHRoID0gMFxyXG5cdHdoaWxlIChzaXplLndpZHRoIDwgd2luZG93LmlubmVyV2lkdGggLSA2MCkge1xyXG5cdFx0c2l6ZS53aWR0aCArPSAxNVxyXG5cdH1cclxuXHRpZiAoc2l6ZS53aWR0aCAlIDEwKSB7XHJcblx0XHRzaXplLndpZHRoIC09IDE1XHJcblx0fVxyXG5cclxuXHRwbGF5Z3JvdW5kLnN0eWxlLndpZHRoID0gYCR7c2l6ZS53aWR0aH1weGBcclxufVxyXG5cclxuY29uc3QgcmVzaXplSGVpZ2h0ID0gKCkgPT4ge1xyXG5cdHNpemUuaGVpZ2h0ID0gMFxyXG5cdHdoaWxlIChzaXplLmhlaWdodCA8IHdpbmRvdy5pbm5lckhlaWdodCAtIDc1KSB7XHJcblx0XHRzaXplLmhlaWdodCArPSAxNVxyXG5cdH1cclxuXHJcblx0aWYgKHNpemUuaGVpZ2h0ICUgMTApIHtcclxuXHRcdHNpemUuaGVpZ2h0IC09IDE1XHJcblx0fVxyXG5cclxuXHRwbGF5Z3JvdW5kLnN0eWxlLmhlaWdodCA9IGAke3NpemUuaGVpZ2h0fXB4YFxyXG59XHJcblxyXG5jb25zdCByZXNpemUgPSAoKSA9PiB7XHJcblx0aWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTI2MCkge1xyXG5cdFx0cmVzaXplV2lkdGgoKVxyXG5cdFx0cmVzdGFydCgpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNpemUud2lkdGggPSAxMjAwXHJcblx0XHRwbGF5Z3JvdW5kLnN0eWxlLndpZHRoID0gYCR7c2l6ZS53aWR0aH1weGBcclxuXHRcdHJlc3RhcnQoKVxyXG5cdH1cclxuXHRpZiAod2luZG93LmlubmVySGVpZ2h0IDw9IDcyMCkge1xyXG5cdFx0cmVzaXplSGVpZ2h0KClcclxuXHRcdHJlc3RhcnQoKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzaXplLmhlaWdodCA9IDY2MFxyXG5cdFx0cGxheWdyb3VuZC5zdHlsZS5oZWlnaHQgPSBgJHtzaXplLmhlaWdodH1weGBcclxuXHRcdHJlc3RhcnQoKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgcmVzdGFydCA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gc25ha2VzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuXHRcdHNuYWtlc1tpXS5yZW1vdmUoKVxyXG5cdFx0c25ha2VzLnBvcCgpXHJcblx0fVxyXG5cdGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdGgxLmNsYXNzTGlzdC5yZW1vdmUoJ3dpbicpXHJcblx0aDEuY2xhc3NMaXN0LnJlbW92ZSgnbG9zdCcpXHJcblx0aDEuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRpZiAoc2l6ZS53aWR0aCA8IDU0MCkge1xyXG5cdFx0aDEudGV4dENvbnRlbnQgPSAndXNlIPCfj7knXHJcblx0fSBlbHNlIHtcclxuXHRcdGgxLnRleHRDb250ZW50ID0gJ25hdmlnYXRlIHdpdGggYXJyb3dzJ1xyXG5cdH1cclxuXHRkaXJlY3Rpb24gPSAnJ1xyXG5cdGxvc3QgPSAwXHJcblx0cmFuZ2UgPSAxODBcclxuXHRoID0gcmFuZ2VcclxuXHRyYW5nZUZsaXBwZXIgPSAwXHJcblx0c2NvcmUgPSBkaWZmaWN1bHR5XHJcblx0aGFzU3RhcnRlZCA9IDBcclxuXHRzcGFuLnRleHRDb250ZW50ID0gc2NvcmVcclxuXHRzcGFuLnN0eWxlLmNvbG9yID0gJ2hzbCgxNzksIDEwMCUsIDU1JSknXHJcblx0YXBwbGUuc3R5bGUudG9wID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHNpemUuaGVpZ2h0IC8gMTUpKSAqIDE1ICsgJ3B4J1xyXG5cdGFwcGxlLnN0eWxlLmxlZnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS53aWR0aCAvIDE1KSkgKiAxNSArICdweCdcclxuXHRzbmFrZS5zdHlsZS50b3AgPSBgJHtzaXplLmhlaWdodCAvIDIgLSAxNX1weGBcclxuXHRzbmFrZS5zdHlsZS5sZWZ0ID0gYCR7c2l6ZS53aWR0aCAvIDIgLSAxNX1weGBcclxuXHRzbmFrZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZidcclxuXHRwb3NpdGlvbi50b3AgPSArc25ha2Uuc3R5bGUudG9wLnNsaWNlKDAsIC0yKVxyXG5cdHBvc2l0aW9uLmxlZnQgPSArc25ha2Uuc3R5bGUubGVmdC5zbGljZSgwLCAtMilcclxuXHRhcHBsZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG59XHJcbnJlc2l6ZSgpXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XHJcblx0aWYgKGxvc3QgPT09IDAgJiYgZS5rZXkuaW5jbHVkZXMoJ0Fycm93JykgJiYgaXNSZWFkeSkge1xyXG5cdFx0aXNSZWFkeSA9IGZhbHNlXHJcblx0XHRzdGVlcihlKVxyXG5cdH1cclxufSlcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpXHJcblxyXG5idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXN0YXJ0KVxyXG4iXX0=
