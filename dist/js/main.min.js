"use strict";var interval,playground=document.querySelector(".playground"),snake=document.querySelector(".snake"),apple=document.querySelector(".apple"),span=document.querySelector(".span"),btn=document.querySelector(".btn"),h1=document.querySelector(".h1"),snakes=[snake],difficulty=50,direction="",lost=0,range=180,h=range,rangeFlipper=0,score=difficulty,isReady=!0,hasStarted=0,check={direction:0,translated:!1},size={width:1200,height:660};span.textContent=score,apple.style.top=15*Math.floor(Math.random()*(size.height/15))+"px",apple.style.left=15*Math.floor(Math.random()*(size.width/15))+"px",snake.style.top="".concat(size.height/2-15,"px"),snake.style.left="".concat(size.width/2-15,"px");var position={top:+snake.style.top.slice(0,-2),left:+snake.style.left.slice(0,-2)},setColor=function(e){h=range,e.style.backgroundColor="hsl(".concat(h,", 80%, 50%)"),range<360&&0===rangeFlipper?range++:360===range?(rangeFlipper=1,range--):180===--range&&(rangeFlipper=0)},app=function(){var e=document.createElement("div");e.classList.add("snake"),e.style.top=snakes[snakes.length-1].style.top,e.style.left=snakes[snakes.length-1].style.left,setColor(e),playground.append(e),snakes.push(e)},grow=function(){1===snakes.length&&(snakes[0].style.backgroundColor="hsl(".concat(h,", 80%, 50%)")),apple.style.top=15*Math.floor(Math.random()*(size.height/15))+"px",apple.style.left=15*Math.floor(Math.random()*(size.width/15))+"px",app(),score--,span.style.color="hsl(".concat(h,", 80%, 50%)"),span.textContent=score},dirCheck=function(e){0===hasStarted&&(h1.classList.remove("active"),hasStarted=1),"ArrowLeft"===e.key||"ArrowUp"===e.key?(direction=-1,clearInterval(interval)):"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(direction=1,clearInterval(interval))},movementVertical=function(){if(1<snakes.length){(position.top+15*direction===+snakes[1].style.top.slice(0,-2)||check.translated&&check.direction===direction)&&(direction*=-1);for(var e=snakes.length-1;0<e;e--)snakes[e].style.left=snakes[e-1].style.left,snakes[e].style.top=snakes[e-1].style.top}position.top+=15*direction,snakes[0].style.top="".concat(position.top,"px"),isReady=!0},movementHorizontal=function(){if(1<snakes.length){(position.left+15*direction===+snakes[1].style.left.slice(0,-2)||check.translated&&check.direction===direction)&&(direction*=-1);for(var e=snakes.length-1;0<e;e--)snakes[e].style.left=snakes[e-1].style.left,snakes[e].style.top=snakes[e-1].style.top}position.left+=15*direction,snakes[0].style.left="".concat(position.left,"px"),isReady=!0},win=function(){clearInterval(interval),h1.classList.add("win"),size.width<=570?h1.textContent="you won":h1.textContent="collected all apples",lost=1,apple.style.display="none",btn.classList.add("active")},defeat=function(){clearInterval(interval),snakes.forEach(function(e){return e.style.backgroundColor="red"}),h1.classList.add("lost"),h1.textContent="game over",lost=1,apple.style.display="none",btn.classList.add("active")},checkPosition=function(){+snake.style.left.slice(0,-2)===size.width?(snakes[0].style.left="0px",position.left=+snake.style.left.slice(0,-2),check.translated=!0,check.direction=-direction):"-15px"===snakes[0].style.left?(snakes[0].style.left=playground.scrollWidth-15+"px",position.left=+snake.style.left.slice(0,-2),check.translated=!0,check.direction=-direction):+snake.style.top.slice(0,-2)===playground.clientHeight?(snakes[0].style.top="0px",position.top=+snake.style.top.slice(0,-2),check.translated=!0,check.direction=-direction):"-15px"===snakes[0].style.top?(snakes[0].style.top=playground.clientHeight-15+"px",position.top=+snake.style.top.slice(0,-2),check.translated=!0,check.direction=-direction):check.translated=!1},steer=function(t){dirCheck(t),interval=setInterval(function(){"ArrowLeft"===t.key||"ArrowRight"===t.key?movementHorizontal():"ArrowUp"!==t.key&&"ArrowDown"!==t.key||movementVertical(),checkPosition(),snakes[0].style.top===apple.style.top&&snakes[0].style.left===apple.style.left&&(grow(),0===score&&win());for(var e=snakes.length-1;1<e;e--)snakes[e].style.left===snakes[0].style.left&&snakes[e].style.top===snakes[0].style.top&&defeat()},50)},resizeWidth=function(){for(size.width=0;size.width<window.innerWidth-60;)size.width+=15;size.width%10&&(size.width-=15),playground.style.width="".concat(size.width,"px")},resizeHeight=function(){for(size.height=0;size.height<window.innerHeight-75;)size.height+=15;size.height%10&&(size.height-=15),playground.style.height="".concat(size.height,"px")},resize=function(){window.innerWidth<1260?resizeWidth():(size.width=1200,playground.style.width="".concat(size.width,"px")),restart(),window.innerHeight<=720?resizeHeight():(size.height=660,playground.style.height="".concat(size.height,"px")),restart()},restart=function(){for(var e=snakes.length-1;0<e;e--)snakes[e].remove(),snakes.pop();btn.classList.remove("active"),h1.classList.remove("win"),h1.classList.remove("lost"),h1.classList.add("active"),size.width<540?h1.textContent="use 🏹":h1.textContent="navigate with arrows",direction="",h=range=180,score=difficulty,hasStarted=rangeFlipper=lost=0,span.textContent=score,span.style.color="hsl(179, 100%, 55%)",apple.style.top=15*Math.floor(Math.random()*(size.height/15))+"px",apple.style.left=15*Math.floor(Math.random()*(size.width/15))+"px",snake.style.top="".concat(size.height/2-15,"px"),snake.style.left="".concat(size.width/2-15,"px"),snake.style.backgroundColor="#fff",position.top=+snake.style.top.slice(0,-2),position.left=+snake.style.left.slice(0,-2),apple.style.display="block"};resize(),document.addEventListener("keydown",function(e){0===lost&&e.key.includes("Arrow")&&isReady&&(isReady=!1,steer(e))}),window.addEventListener("resize",resize),btn.addEventListener("click",restart);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic25ha2VzIiwicGxheWdyb3VuZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNuYWtlIiwiYXBwbGUiLCJzcGFuIiwiYnRuIiwiaDEiLCJkaWZmaWN1bHR5IiwiaW50ZXJ2YWwiLCJkaXJlY3Rpb24iLCJsb3N0IiwicmFuZ2UiLCJoIiwicmFuZ2VGbGlwcGVyIiwic2NvcmUiLCJoYXNTdGFydGVkIiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwidGV4dENvbnRlbnQiLCJNYXRoIiwic3R5bGUiLCJsZWZ0IiwiZmxvb3IiLCJyYW5kb20iLCJ0b3AiLCJwb3NpdGlvbiIsImNvbmNhdCIsInNsaWNlIiwiYmFja2dyb3VuZENvbG9yIiwiZWwiLCJhcHAiLCJzbmFrZUVsIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImxlbmd0aCIsInNldENvbG9yIiwicHVzaCIsImNvbG9yIiwiZGlyQ2hlY2siLCJlIiwicmVtb3ZlIiwia2V5IiwiY2xlYXJJbnRlcnZhbCIsIm1vdmVtZW50VmVydGljYWwiLCJjaGVjayIsInRyYW5zbGF0ZWQiLCJpIiwiaXNSZWFkeSIsIm1vdmVtZW50SG9yaXpvbnRhbCIsIndpbiIsImRlZmVhdCIsImRpc3BsYXkiLCJzIiwic2Nyb2xsV2lkdGgiLCJjbGllbnRIZWlnaHQiLCJzdGVlciIsInNldEludGVydmFsIiwiY2hlY2tQb3NpdGlvbiIsImdyb3ciLCJyZXNpemVXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJyZXNpemVIZWlnaHQiLCJpbm5lckhlaWdodCIsInJlc2l6ZSIsInJlc3RhcnQiLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQU1NQSxTQU5BQyxXQUFhQyxTQUFTQyxjQUFjLGVBQ3BDQyxNQUFRRixTQUFTQyxjQUFjLFVBRC9CRixNQUFVQyxTQUFHQSxjQUFTQyxVQUN0QkMsS0FBUUYsU0FBU0MsY0FBYyxTQUMvQkUsSUFBUUgsU0FB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ZXNDb250ZW50IjpbImNvbnN0IHBsYXlncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWdyb3VuZCcpXHJcbmNvbnN0IHNuYWtlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNuYWtlJylcclxuY29uc3QgYXBwbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwbGUnKVxyXG5jb25zdCBzcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNwYW4nKVxyXG5jb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuJylcclxuY29uc3QgaDEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaDEnKVxyXG5jb25zdCBzbmFrZXMgPSBbc25ha2VdXHJcbmxldCBkaWZmaWN1bHR5ID0gNTBcclxubGV0IGludGVydmFsXHJcbmxldCBkaXJlY3Rpb24gPSAnJ1xyXG5sZXQgbG9zdCA9IDBcclxubGV0IHJhbmdlID0gMTgwXHJcbmxldCBoID0gcmFuZ2VcclxubGV0IHJhbmdlRmxpcHBlciA9IDBcclxubGV0IHNjb3JlID0gZGlmZmljdWx0eVxyXG5sZXQgaXNSZWFkeSA9IHRydWVcclxubGV0IGhhc1N0YXJ0ZWQgPSAwXHJcblxyXG5jb25zdCBjaGVjayA9IHtcclxuXHRkaXJlY3Rpb246IDAsXHJcblx0dHJhbnNsYXRlZDogZmFsc2UsXHJcbn1cclxuXHJcbmNvbnN0IHNpemUgPSB7XHJcblx0d2lkdGg6IDEyMDAsXHJcblx0aGVpZ2h0OiA2NjAsXHJcbn1cclxuXHJcbnNwYW4udGV4dENvbnRlbnQgPSBzY29yZVxyXG5hcHBsZS5zdHlsZS50b3AgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS5oZWlnaHQgLyAxNSkpICogMTUgKyAncHgnXHJcbmFwcGxlLnN0eWxlLmxlZnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS53aWR0aCAvIDE1KSkgKiAxNSArICdweCdcclxuc25ha2Uuc3R5bGUudG9wID0gYCR7c2l6ZS5oZWlnaHQgLyAyIC0gMTV9cHhgXHJcbnNuYWtlLnN0eWxlLmxlZnQgPSBgJHtzaXplLndpZHRoIC8gMiAtIDE1fXB4YFxyXG5cclxuY29uc3QgcG9zaXRpb24gPSB7XHJcblx0dG9wOiArc25ha2Uuc3R5bGUudG9wLnNsaWNlKDAsIC0yKSxcclxuXHRsZWZ0OiArc25ha2Uuc3R5bGUubGVmdC5zbGljZSgwLCAtMiksXHJcbn1cclxuXHJcbmNvbnN0IHNldENvbG9yID0gZWwgPT4ge1xyXG5cdGggPSByYW5nZVxyXG5cdGVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGBoc2woJHtofSwgODAlLCA1MCUpYFxyXG5cdGlmIChyYW5nZSA8IDM2MCAmJiByYW5nZUZsaXBwZXIgPT09IDApIHtcclxuXHRcdHJhbmdlKytcclxuXHR9IGVsc2UgaWYgKHJhbmdlID09PSAzNjApIHtcclxuXHRcdHJhbmdlRmxpcHBlciA9IDFcclxuXHRcdHJhbmdlLS1cclxuXHR9IGVsc2Uge1xyXG5cdFx0cmFuZ2UtLVxyXG5cdFx0aWYgKHJhbmdlID09PSAxODApIHtcclxuXHRcdFx0cmFuZ2VGbGlwcGVyID0gMFxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgYXBwID0gKCkgPT4ge1xyXG5cdGNvbnN0IHNuYWtlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdHNuYWtlRWwuY2xhc3NMaXN0LmFkZCgnc25ha2UnKVxyXG5cdHNuYWtlRWwuc3R5bGUudG9wID0gc25ha2VzW3NuYWtlcy5sZW5ndGggLSAxXS5zdHlsZS50b3BcclxuXHRzbmFrZUVsLnN0eWxlLmxlZnQgPSBzbmFrZXNbc25ha2VzLmxlbmd0aCAtIDFdLnN0eWxlLmxlZnRcclxuXHRzZXRDb2xvcihzbmFrZUVsKVxyXG5cclxuXHRwbGF5Z3JvdW5kLmFwcGVuZChzbmFrZUVsKVxyXG5cdHNuYWtlcy5wdXNoKHNuYWtlRWwpXHJcbn1cclxuXHJcbmNvbnN0IGdyb3cgPSAoKSA9PiB7XHJcblx0aWYgKHNuYWtlcy5sZW5ndGggPT09IDEpIHtcclxuXHRcdHNuYWtlc1swXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBgaHNsKCR7aH0sIDgwJSwgNTAlKWBcclxuXHR9XHJcblx0YXBwbGUuc3R5bGUudG9wID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHNpemUuaGVpZ2h0IC8gMTUpKSAqIDE1ICsgJ3B4J1xyXG5cdGFwcGxlLnN0eWxlLmxlZnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS53aWR0aCAvIDE1KSkgKiAxNSArICdweCdcclxuXHRhcHAoKVxyXG5cdHNjb3JlLS1cclxuXHRzcGFuLnN0eWxlLmNvbG9yID0gYGhzbCgke2h9LCA4MCUsIDUwJSlgXHJcblx0c3Bhbi50ZXh0Q29udGVudCA9IHNjb3JlXHJcbn1cclxuXHJcbmNvbnN0IGRpckNoZWNrID0gZSA9PiB7XHJcblx0aWYgKGhhc1N0YXJ0ZWQgPT09IDApIHtcclxuXHRcdGgxLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRoYXNTdGFydGVkID0gMVxyXG5cdH1cclxuXHRpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnIHx8IGUua2V5ID09PSAnQXJyb3dVcCcpIHtcclxuXHRcdGRpcmVjdGlvbiA9IC0xXHJcblx0XHRjbGVhckludGVydmFsKGludGVydmFsKVxyXG5cdH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd1JpZ2h0JyB8fCBlLmtleSA9PT0gJ0Fycm93RG93bicpIHtcclxuXHRcdGRpcmVjdGlvbiA9IDFcclxuXHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcblx0fVxyXG59XHJcblxyXG4vLyBjb25zdCBtb3ZlbWVudFZlcnRpY2FsID0gKCkgPT4ge1xyXG4vLyBcdGlmIChcclxuLy8gXHRcdChzbmFrZXMubGVuZ3RoID4gMSAmJiBwb3NpdGlvbi50b3AgKyAxNSAqIGRpcmVjdGlvbiA9PT0gK3NuYWtlc1sxXS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpKSB8fFxyXG4vLyBcdFx0KHNuYWtlcy5sZW5ndGggPiAxICYmIGNoZWNrLnRyYW5zbGF0ZWQgJiYgY2hlY2suZGlyZWN0aW9uID09PSBkaXJlY3Rpb24pXHJcbi8vIFx0KSB7XHJcbi8vIFx0XHRkaXJlY3Rpb24gKj0gLTFcclxuLy8gXHR9XHJcbi8vIFx0cG9zaXRpb24udG9wICs9IDE1ICogZGlyZWN0aW9uXHJcbi8vIFx0aWYgKHNuYWtlcy5sZW5ndGggPiAxKSB7XHJcbi8vIFx0XHRmb3IgKGxldCBpID0gc25ha2VzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuLy8gXHRcdFx0c25ha2VzW2ldLnN0eWxlLmxlZnQgPSBzbmFrZXNbaSAtIDFdLnN0eWxlLmxlZnRcclxuLy8gXHRcdFx0c25ha2VzW2ldLnN0eWxlLnRvcCA9IHNuYWtlc1tpIC0gMV0uc3R5bGUudG9wXHJcbi8vIFx0XHR9XHJcbi8vIFx0XHRzbmFrZXNbMF0uc3R5bGUudG9wID0gYCR7cG9zaXRpb24udG9wfXB4YFxyXG4vLyBcdH0gZWxzZSBpZiAoc25ha2VzLmxlbmd0aCA9PT0gMSkge1xyXG4vLyBcdFx0c25ha2VzWzBdLnN0eWxlLnRvcCA9IGAke3Bvc2l0aW9uLnRvcH1weGBcclxuLy8gXHR9XHJcblxyXG4vLyBcdGlzUmVhZHkgPSB0cnVlXHJcbi8vIH1cclxuY29uc3QgbW92ZW1lbnRWZXJ0aWNhbCA9ICgpID0+IHtcclxuXHRpZiAoc25ha2VzLmxlbmd0aCA+IDEpIHtcclxuXHRcdGlmIChcclxuXHRcdFx0cG9zaXRpb24udG9wICsgMTUgKiBkaXJlY3Rpb24gPT09ICtzbmFrZXNbMV0uc3R5bGUudG9wLnNsaWNlKDAsIC0yKSB8fFxyXG5cdFx0XHQoY2hlY2sudHJhbnNsYXRlZCAmJiBjaGVjay5kaXJlY3Rpb24gPT09IGRpcmVjdGlvbilcclxuXHRcdCkge1xyXG5cdFx0XHRkaXJlY3Rpb24gKj0gLTFcclxuXHRcdH1cclxuXHRcdGZvciAobGV0IGkgPSBzbmFrZXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG5cdFx0XHRzbmFrZXNbaV0uc3R5bGUubGVmdCA9IHNuYWtlc1tpIC0gMV0uc3R5bGUubGVmdFxyXG5cdFx0XHRzbmFrZXNbaV0uc3R5bGUudG9wID0gc25ha2VzW2kgLSAxXS5zdHlsZS50b3BcclxuXHRcdH1cclxuXHR9XHJcblx0cG9zaXRpb24udG9wICs9IDE1ICogZGlyZWN0aW9uXHJcblx0c25ha2VzWzBdLnN0eWxlLnRvcCA9IGAke3Bvc2l0aW9uLnRvcH1weGBcclxuXHJcblx0aXNSZWFkeSA9IHRydWVcclxufVxyXG5cclxuLy8gY29uc3QgbW92ZW1lbnRIb3Jpem9udGFsID0gKCkgPT4ge1xyXG4vLyBcdGlmIChcclxuLy8gXHRcdChzbmFrZXMubGVuZ3RoID4gMSAmJiBwb3NpdGlvbi5sZWZ0ICsgMTUgKiBkaXJlY3Rpb24gPT09ICtzbmFrZXNbMV0uc3R5bGUubGVmdC5zbGljZSgwLCAtMikpIHx8XHJcbi8vIFx0XHQoc25ha2VzLmxlbmd0aCA+IDEgJiYgY2hlY2sudHJhbnNsYXRlZCAmJiBjaGVjay5kaXJlY3Rpb24gPT09IGRpcmVjdGlvbilcclxuLy8gXHQpIHtcclxuLy8gXHRcdGRpcmVjdGlvbiAqPSAtMVxyXG4vLyBcdH1cclxuLy8gXHRwb3NpdGlvbi5sZWZ0ICs9IDE1ICogZGlyZWN0aW9uXHJcblxyXG4vLyBcdGlmIChzbmFrZXMubGVuZ3RoID4gMSkge1xyXG4vLyBcdFx0Zm9yIChsZXQgaSA9IHNuYWtlcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XHJcbi8vIFx0XHRcdHNuYWtlc1tpXS5zdHlsZS5sZWZ0ID0gc25ha2VzW2kgLSAxXS5zdHlsZS5sZWZ0XHJcbi8vIFx0XHRcdHNuYWtlc1tpXS5zdHlsZS50b3AgPSBzbmFrZXNbaSAtIDFdLnN0eWxlLnRvcFxyXG4vLyBcdFx0fVxyXG4vLyBcdFx0c25ha2VzWzBdLnN0eWxlLmxlZnQgPSBgJHtwb3NpdGlvbi5sZWZ0fXB4YFxyXG4vLyBcdH0gZWxzZSBpZiAoc25ha2VzLmxlbmd0aCA9PT0gMSkge1xyXG4vLyBcdFx0c25ha2VzWzBdLnN0eWxlLmxlZnQgPSBgJHtwb3NpdGlvbi5sZWZ0fXB4YFxyXG4vLyBcdH1cclxuXHJcbi8vIFx0aXNSZWFkeSA9IHRydWVcclxuLy8gfVxyXG5jb25zdCBtb3ZlbWVudEhvcml6b250YWwgPSAoKSA9PiB7XHJcblx0aWYgKHNuYWtlcy5sZW5ndGggPiAxKSB7XHJcblx0XHRpZiAoXHJcblx0XHRcdHBvc2l0aW9uLmxlZnQgKyAxNSAqIGRpcmVjdGlvbiA9PT0gK3NuYWtlc1sxXS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSB8fFxyXG5cdFx0XHQoY2hlY2sudHJhbnNsYXRlZCAmJiBjaGVjay5kaXJlY3Rpb24gPT09IGRpcmVjdGlvbilcclxuXHRcdCkge1xyXG5cdFx0XHRkaXJlY3Rpb24gKj0gLTFcclxuXHRcdH1cclxuXHRcdGZvciAobGV0IGkgPSBzbmFrZXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG5cdFx0XHRzbmFrZXNbaV0uc3R5bGUubGVmdCA9IHNuYWtlc1tpIC0gMV0uc3R5bGUubGVmdFxyXG5cdFx0XHRzbmFrZXNbaV0uc3R5bGUudG9wID0gc25ha2VzW2kgLSAxXS5zdHlsZS50b3BcclxuXHRcdH1cclxuXHR9XHJcblx0cG9zaXRpb24ubGVmdCArPSAxNSAqIGRpcmVjdGlvblxyXG5cdHNuYWtlc1swXS5zdHlsZS5sZWZ0ID0gYCR7cG9zaXRpb24ubGVmdH1weGBcclxuXHJcblx0aXNSZWFkeSA9IHRydWVcclxufVxyXG5cclxuY29uc3Qgd2luID0gKCkgPT4ge1xyXG5cdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcblx0aDEuY2xhc3NMaXN0LmFkZCgnd2luJylcclxuXHRpZiAoc2l6ZS53aWR0aCA8PSA1NzApIHtcclxuXHRcdGgxLnRleHRDb250ZW50ID0gJ3lvdSB3b24nXHJcblx0fSBlbHNlIHtcclxuXHRcdGgxLnRleHRDb250ZW50ID0gJ2NvbGxlY3RlZCBhbGwgYXBwbGVzJ1xyXG5cdH1cclxuXHRsb3N0ID0gMVxyXG5cdGFwcGxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHRidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxufVxyXG5cclxuY29uc3QgZGVmZWF0ID0gKCkgPT4ge1xyXG5cdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcblx0c25ha2VzLmZvckVhY2gocyA9PiAocy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmVkJykpXHJcblx0aDEuY2xhc3NMaXN0LmFkZCgnbG9zdCcpXHJcblx0aDEudGV4dENvbnRlbnQgPSAnZ2FtZSBvdmVyJ1xyXG5cdGxvc3QgPSAxXHJcblx0YXBwbGUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG59XHJcblxyXG4vLyBjb25zdCBjaGVja1Bvc2l0aW9uID0gKCkgPT4ge1xyXG4vLyBcdGlmIChzbmFrZXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCA9PT0gcGxheWdyb3VuZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCkge1xyXG4vLyBcdFx0c25ha2VzWzBdLnN0eWxlLmxlZnQgPSBgMHB4YFxyXG4vLyBcdFx0cG9zaXRpb24ubGVmdCA9ICtzbmFrZS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKVxyXG4vLyBcdH0gZWxzZSBpZiAoc25ha2VzWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyAxNSA9PT0gcGxheWdyb3VuZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KSB7XHJcbi8vIFx0XHRzbmFrZXNbMF0uc3R5bGUubGVmdCA9IHBsYXlncm91bmQuY2xpZW50V2lkdGggLSAxNSArICdweCdcclxuLy8gXHRcdHBvc2l0aW9uLmxlZnQgPSArc25ha2Uuc3R5bGUubGVmdC5zbGljZSgwLCAtMilcclxuLy8gXHR9IGVsc2UgaWYgKHNuYWtlc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPT09IHBsYXlncm91bmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKSB7XHJcbi8vIFx0XHRzbmFrZXNbMF0uc3R5bGUudG9wID0gJzBweCdcclxuLy8gXHRcdHBvc2l0aW9uLnRvcCA9ICtzbmFrZS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpXHJcbi8vIFx0fSBlbHNlIGlmIChzbmFrZXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgMTUgPT09IHBsYXlncm91bmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKSB7XHJcbi8vIFx0XHRzbmFrZXNbMF0uc3R5bGUudG9wID0gcGxheWdyb3VuZC5jbGllbnRIZWlnaHQgLSAxNSArICdweCdcclxuLy8gXHRcdHBvc2l0aW9uLnRvcCA9ICtzbmFrZS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpXHJcbi8vIFx0fVxyXG4vLyB9XHJcblxyXG4vLyBzbmFrZXNbMF0uc3R5bGUubGVmdCA9ICcxMjAwcHgnXHJcbmNvbnN0IGNoZWNrUG9zaXRpb24gPSAoKSA9PiB7XHJcblx0aWYgKCtzbmFrZS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSA9PT0gc2l6ZS53aWR0aCkge1xyXG5cdFx0c25ha2VzWzBdLnN0eWxlLmxlZnQgPSBgMHB4YFxyXG5cdFx0cG9zaXRpb24ubGVmdCA9ICtzbmFrZS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKVxyXG5cdFx0Y2hlY2sudHJhbnNsYXRlZCA9IHRydWVcclxuXHRcdGNoZWNrLmRpcmVjdGlvbiA9IC1kaXJlY3Rpb25cclxuXHR9IGVsc2UgaWYgKHNuYWtlc1swXS5zdHlsZS5sZWZ0ID09PSAnLTE1cHgnKSB7XHJcblx0XHRzbmFrZXNbMF0uc3R5bGUubGVmdCA9IHBsYXlncm91bmQuc2Nyb2xsV2lkdGggLSAxNSArICdweCdcclxuXHRcdHBvc2l0aW9uLmxlZnQgPSArc25ha2Uuc3R5bGUubGVmdC5zbGljZSgwLCAtMilcclxuXHRcdGNoZWNrLnRyYW5zbGF0ZWQgPSB0cnVlXHJcblx0XHRjaGVjay5kaXJlY3Rpb24gPSAtZGlyZWN0aW9uXHJcblx0fSBlbHNlIGlmICgrc25ha2Uuc3R5bGUudG9wLnNsaWNlKDAsIC0yKSA9PT0gcGxheWdyb3VuZC5jbGllbnRIZWlnaHQpIHtcclxuXHRcdHNuYWtlc1swXS5zdHlsZS50b3AgPSAnMHB4J1xyXG5cdFx0cG9zaXRpb24udG9wID0gK3NuYWtlLnN0eWxlLnRvcC5zbGljZSgwLCAtMilcclxuXHRcdGNoZWNrLnRyYW5zbGF0ZWQgPSB0cnVlXHJcblx0XHRjaGVjay5kaXJlY3Rpb24gPSAtZGlyZWN0aW9uXHJcblx0fSBlbHNlIGlmIChzbmFrZXNbMF0uc3R5bGUudG9wID09PSAnLTE1cHgnKSB7XHJcblx0XHRzbmFrZXNbMF0uc3R5bGUudG9wID0gcGxheWdyb3VuZC5jbGllbnRIZWlnaHQgLSAxNSArICdweCdcclxuXHRcdHBvc2l0aW9uLnRvcCA9ICtzbmFrZS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpXHJcblx0XHRjaGVjay50cmFuc2xhdGVkID0gdHJ1ZVxyXG5cdFx0Y2hlY2suZGlyZWN0aW9uID0gLWRpcmVjdGlvblxyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGVjay50cmFuc2xhdGVkID0gZmFsc2VcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHN0ZWVyID0gZSA9PiB7XHJcblx0ZGlyQ2hlY2soZSlcclxuXHRpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuXHRcdGlmIChlLmtleSA9PT0gJ0Fycm93TGVmdCcgfHwgZS5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xyXG5cdFx0XHRtb3ZlbWVudEhvcml6b250YWwoKVxyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93VXAnIHx8IGUua2V5ID09PSAnQXJyb3dEb3duJykge1xyXG5cdFx0XHRtb3ZlbWVudFZlcnRpY2FsKClcclxuXHRcdH1cclxuXHRcdGNoZWNrUG9zaXRpb24oKVxyXG5cclxuXHRcdGlmIChzbmFrZXNbMF0uc3R5bGUudG9wID09PSBhcHBsZS5zdHlsZS50b3AgJiYgc25ha2VzWzBdLnN0eWxlLmxlZnQgPT09IGFwcGxlLnN0eWxlLmxlZnQpIHtcclxuXHRcdFx0Z3JvdygpXHJcblx0XHRcdGlmIChzY29yZSA9PT0gMCkge1xyXG5cdFx0XHRcdHdpbigpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGxldCBpID0gc25ha2VzLmxlbmd0aCAtIDE7IGkgPiAxOyBpLS0pIHtcclxuXHRcdFx0aWYgKHNuYWtlc1tpXS5zdHlsZS5sZWZ0ID09PSBzbmFrZXNbMF0uc3R5bGUubGVmdCAmJiBzbmFrZXNbaV0uc3R5bGUudG9wID09PSBzbmFrZXNbMF0uc3R5bGUudG9wKSB7XHJcblx0XHRcdFx0ZGVmZWF0KClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sIDUwKVxyXG59XHJcblxyXG5jb25zdCByZXNpemVXaWR0aCA9ICgpID0+IHtcclxuXHRzaXplLndpZHRoID0gMFxyXG5cdHdoaWxlIChzaXplLndpZHRoIDwgd2luZG93LmlubmVyV2lkdGggLSA2MCkge1xyXG5cdFx0c2l6ZS53aWR0aCArPSAxNVxyXG5cdH1cclxuXHRpZiAoc2l6ZS53aWR0aCAlIDEwKSB7XHJcblx0XHRzaXplLndpZHRoIC09IDE1XHJcblx0fVxyXG5cclxuXHRwbGF5Z3JvdW5kLnN0eWxlLndpZHRoID0gYCR7c2l6ZS53aWR0aH1weGBcclxufVxyXG5cclxuY29uc3QgcmVzaXplSGVpZ2h0ID0gKCkgPT4ge1xyXG5cdHNpemUuaGVpZ2h0ID0gMFxyXG5cdHdoaWxlIChzaXplLmhlaWdodCA8IHdpbmRvdy5pbm5lckhlaWdodCAtIDc1KSB7XHJcblx0XHRzaXplLmhlaWdodCArPSAxNVxyXG5cdH1cclxuXHJcblx0aWYgKHNpemUuaGVpZ2h0ICUgMTApIHtcclxuXHRcdHNpemUuaGVpZ2h0IC09IDE1XHJcblx0fVxyXG5cclxuXHRwbGF5Z3JvdW5kLnN0eWxlLmhlaWdodCA9IGAke3NpemUuaGVpZ2h0fXB4YFxyXG59XHJcblxyXG5jb25zdCByZXNpemUgPSAoKSA9PiB7XHJcblx0aWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTI2MCkge1xyXG5cdFx0cmVzaXplV2lkdGgoKVxyXG5cdFx0cmVzdGFydCgpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNpemUud2lkdGggPSAxMjAwXHJcblx0XHRwbGF5Z3JvdW5kLnN0eWxlLndpZHRoID0gYCR7c2l6ZS53aWR0aH1weGBcclxuXHRcdHJlc3RhcnQoKVxyXG5cdH1cclxuXHRpZiAod2luZG93LmlubmVySGVpZ2h0IDw9IDcyMCkge1xyXG5cdFx0cmVzaXplSGVpZ2h0KClcclxuXHRcdHJlc3RhcnQoKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzaXplLmhlaWdodCA9IDY2MFxyXG5cdFx0cGxheWdyb3VuZC5zdHlsZS5oZWlnaHQgPSBgJHtzaXplLmhlaWdodH1weGBcclxuXHRcdHJlc3RhcnQoKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgcmVzdGFydCA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gc25ha2VzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuXHRcdHNuYWtlc1tpXS5yZW1vdmUoKVxyXG5cdFx0c25ha2VzLnBvcCgpXHJcblx0fVxyXG5cdGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdGgxLmNsYXNzTGlzdC5yZW1vdmUoJ3dpbicpXHJcblx0aDEuY2xhc3NMaXN0LnJlbW92ZSgnbG9zdCcpXHJcblx0aDEuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRpZiAoc2l6ZS53aWR0aCA8IDU0MCkge1xyXG5cdFx0aDEudGV4dENvbnRlbnQgPSAndXNlIPCfj7knXHJcblx0fSBlbHNlIHtcclxuXHRcdGgxLnRleHRDb250ZW50ID0gJ25hdmlnYXRlIHdpdGggYXJyb3dzJ1xyXG5cdH1cclxuXHRkaXJlY3Rpb24gPSAnJ1xyXG5cdGxvc3QgPSAwXHJcblx0cmFuZ2UgPSAxODBcclxuXHRoID0gcmFuZ2VcclxuXHRyYW5nZUZsaXBwZXIgPSAwXHJcblx0c2NvcmUgPSBkaWZmaWN1bHR5XHJcblx0aGFzU3RhcnRlZCA9IDBcclxuXHRzcGFuLnRleHRDb250ZW50ID0gc2NvcmVcclxuXHRzcGFuLnN0eWxlLmNvbG9yID0gJ2hzbCgxNzksIDEwMCUsIDU1JSknXHJcblx0YXBwbGUuc3R5bGUudG9wID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHNpemUuaGVpZ2h0IC8gMTUpKSAqIDE1ICsgJ3B4J1xyXG5cdGFwcGxlLnN0eWxlLmxlZnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2l6ZS53aWR0aCAvIDE1KSkgKiAxNSArICdweCdcclxuXHRzbmFrZS5zdHlsZS50b3AgPSBgJHtzaXplLmhlaWdodCAvIDIgLSAxNX1weGBcclxuXHRzbmFrZS5zdHlsZS5sZWZ0ID0gYCR7c2l6ZS53aWR0aCAvIDIgLSAxNX1weGBcclxuXHRzbmFrZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZidcclxuXHRwb3NpdGlvbi50b3AgPSArc25ha2Uuc3R5bGUudG9wLnNsaWNlKDAsIC0yKVxyXG5cdHBvc2l0aW9uLmxlZnQgPSArc25ha2Uuc3R5bGUubGVmdC5zbGljZSgwLCAtMilcclxuXHRhcHBsZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG59XHJcbnJlc2l6ZSgpXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XHJcblx0aWYgKGxvc3QgPT09IDAgJiYgZS5rZXkuaW5jbHVkZXMoJ0Fycm93JykgJiYgaXNSZWFkeSkge1xyXG5cdFx0Ly8gY2xlYXJJbnRlcnZhbChpbnRlcnZhbClcclxuXHRcdGlzUmVhZHkgPSBmYWxzZVxyXG5cdFx0c3RlZXIoZSlcclxuXHR9XHJcbn0pXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKVxyXG5cclxuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVzdGFydClcclxuIl19
